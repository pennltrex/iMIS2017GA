SET NOCOUNT OFF;
IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'TaskDefinition' AND [CONSTRAINT_NAME] = 'FK_TaskDefinition_UserMain_CreatedBy')
    ALTER TABLE [dbo].[TaskDefinition] DROP CONSTRAINT [FK_TaskDefinition_UserMain_CreatedBy]
go

IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'TaskDefinition' AND [CONSTRAINT_NAME] = 'FK_TaskDefinition_UserMain_UpdatedBy')
    ALTER TABLE [dbo].[TaskDefinition] DROP CONSTRAINT [FK_TaskDefinition_UserMain_UpdatedBy]
go


IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSet' AND [CONSTRAINT_NAME] = 'FK_NotificationSet_CreatedByUser')
    ALTER TABLE [dbo].[NotificationSet] DROP CONSTRAINT [FK_NotificationSet_CreatedByUser]
go

IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSet' AND [CONSTRAINT_NAME] = 'FK_NotificationSet_UpdatedByUser')
    ALTER TABLE [dbo].[NotificationSet] DROP CONSTRAINT [FK_NotificationSet_UpdatedByUser]
go


IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_CreatedByUser')
    ALTER TABLE [dbo].[NotificationSetDetail] DROP CONSTRAINT [FK_NotificationSetDetail_CreatedByUser]
go

IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_NotificationSet')
    ALTER TABLE [dbo].[NotificationSetDetail] DROP CONSTRAINT [FK_NotificationSetDetail_NotificationSet]
go

IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_TaskDefinition')
    ALTER TABLE [dbo].[NotificationSetDetail] DROP CONSTRAINT [FK_NotificationSetDetail_TaskDefinition]
go

IF EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_UpdatedByUser')
    ALTER TABLE [dbo].[NotificationSetDetail] DROP CONSTRAINT [FK_NotificationSetDetail_UpdatedByUser]
go


SET NOCOUNT ON
SET TEXTSIZE 1073741824

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '81a688aa-25fb-47ee-92a7-03d006cb1c44')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('81a688aa-25fb-47ee-92a7-03d006cb1c44', 'Expired membership alert', 'Creates an alert if the selected contact''s membership is expired', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>8ba0c9fd-efbb-453e-85c9-4e928d212f79</DataSourceId><DataSourceName>ExpiredMembers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Expired members</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact''s membership is expired</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>8ba0c9fd-efbb-453e-85c9-4e928d212f79</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Expired membership alert</Name><Notifications><NotificationDefinition><DataSources><string>8ba0c9fd-efbb-453e-85c9-4e928d212f79</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Membership expired on&amp;nbsp;&lt;strong&gt;{#ExpiredMembers.PaidThrough format=m}&lt;/strong&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>2764a409-e0fb-4521-8319-429e3d6aa772</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>81a688aa-25fb-47ee-92a7-03d006cb1c44</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>81a688aa-25fb-47ee-92a7-03d006cb1c44</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>27e096d2-6133-4c4b-a9b6-3fbb645bb359</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:48:28.477</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-10-03T12:58:02.62</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:48:28', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 12:58:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0', 'Event reminder alert', 'Creates an alert if the selected contact is registered for an event occurring within 21 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>d562d541-4108-451f-9981-339457671723</DataSourceId><DataSourceName>UpcomingRegistrations</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Upcoming event registrations</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact is registered for an event occurring within 21 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>d562d541-4108-451f-9981-339457671723</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Event reminder alert</Name><Notifications><NotificationDefinition><DataSources><string>d562d541-4108-451f-9981-339457671723</string></DataSources><DefaultTemplate>{foreach event in UpcomingRegistrations}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/alarm-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Registered for&amp;nbsp;&lt;a href="[~]/Event.aspx?EventKey={#event.EventCode}"&gt;{#event.Event_Title}&lt;/a&gt;, starting {#event.BeginDate format=m}​&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>33acc141-c614-4ef8-81e6-a9014202b7e6</NotificationDefinitionId><PersonalizedTemplate>{foreach event in UpcomingRegistrations}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/alarm-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;a href="[~]/Event.aspx?EventKey={#event.EventCode}"&gt;{#event.Event_Title}&lt;/a&gt; is coming up on&amp;nbsp;&lt;strong&gt;{#event.BeginDate format="m"}&#xD;
&lt;/strong&gt;​&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</PersonalizedTemplate><TaskDefinitionId>5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>d126d2e0-9ecb-42ba-bfb1-4d98b121eb5d</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:45:26.463</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-10-03T12:58:27.603</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:45:26', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 12:58:36')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '51a9559c-a438-4598-b722-100b7c5f0d7e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('51a9559c-a438-4598-b722-100b7c5f0d7e', 'Staff recent orders alert', 'Creates an alert listing orders placed today.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>ab8d87b3-732b-4fdb-be9c-1fc88f4d3455</DataSourceId><DataSourceName>RecentOrders</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>fda61f23-ba7e-4151-a546-4a4a137e2b97</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing orders placed today.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>ab8d87b3-732b-4fdb-be9c-1fc88f4d3455</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent orders alert</Name><Notifications><NotificationDefinition><DataSources><string>ab8d87b3-732b-4fdb-be9c-1fc88f4d3455</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/cart-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent orders&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach order in RecentOrders limit 10}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#order.code_PartyId}"&gt;{#order.Sold_To}&lt;/a&gt; placed an order for &lt;strong&gt;{#order.Total}&lt;/strong&gt;&lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Commerce/Recent_orders.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>817e809f-1dff-4c1a-a439-4bc81ab6d679</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>51a9559c-a438-4598-b722-100b7c5f0d7e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>51a9559c-a438-4598-b722-100b7c5f0d7e</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>8e6f7bb8-8795-45d2-8562-3eb6a46504ea</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:45:50.25</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:46:06.813</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:45:50', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:46:27')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'a3c01355-8115-4c96-9a6a-10d2e0f23b6e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('a3c01355-8115-4c96-9a6a-10d2e0f23b6e', 'Refresh Dynamic Groups - Monthly', 'Refresh all groups based on IQA queries that are scheduled to update monthly', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionRefreshDynamicGroupsData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>8ab67318-b10f-4427-8154-c3e137ecccdc</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>RefreshDynamicGroups</a:ActionTypeName><a:Description>None selected</a:Description><a:ScheduleFrequency>Monthly</a:ScheduleFrequency></Action></Actions><DataSources i:nil="true"/><Description>Refresh all groups based on IQA queries that are scheduled to update monthly</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Refresh Dynamic Groups - Monthly</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>1850234a-925f-4bc6-bdb1-115b74d3a041</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>a3c01355-8115-4c96-9a6a-10d2e0f23b6e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>a3c01355-8115-4c96-9a6a-10d2e0f23b6e</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">e8610b67-aa47-4535-9990-3bd219d5ff3d</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>0</Days><DaysOfMonth xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><a:string>1</a:string></DaysOfMonth><Months>1</Months><ScheduleFrequency>Monthly</ScheduleFrequency><Time>0001-01-01T02:00:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2015-03-01T05:05:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2015-02-24T18:12:06.7</a:CreatedOn><a:UpdatedBy>STACEY</a:UpdatedBy><a:UpdatedOn>2015-04-07T15:43:23.01</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '31c19af7-0eac-475d-848e-1575e3835838')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('31c19af7-0eac-475d-848e-1575e3835838', 'Staff specific event print tickets alert', 'Displays a button to allow staff to print tickets from the specific event dashboard.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>0503f51a-285d-47aa-843d-1e0421e42d02</DataSourceId><DataSourceName>HasTickets</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>79b2836b-a332-4647-af8e-eaa399bf5399</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays a button to allow staff to print tickets from the specific event dashboard.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>0503f51a-285d-47aa-843d-1e0421e42d02</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff specific event print tickets alert</Name><Notifications><NotificationDefinition><DataSources><string>0503f51a-285d-47aa-843d-1e0421e42d02</string></DataSources><DefaultTemplate>&lt;div class="btn-group dropdown-toggle"&gt;&#xD;
&lt;button type="button" class="TextButton dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"&gt;Print tickets &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;&#xD;
&lt;ul class="dropdown-menu"&gt;&#xD;
    &lt;li&gt;&lt;a href="JavaScript:newPopup(''[Website]/iCore/Staff_Dashboards/Specific_Event/Tickets_with_badges.aspx?Event={#HasTickets.EventCode}'');"&gt;With badges&lt;/a&gt;&lt;/li&gt;&#xD;
    &lt;li&gt;&lt;a href="JavaScript:newPopup(''[Website]/iCore/Staff_Dashboards/Specific_Event/Tickets_without_badges.aspx?Event={#HasTickets.EventCode}'');"&gt;Without badges&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>1912c94f-52fa-47bb-9ca7-28c311834a57</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>31c19af7-0eac-475d-848e-1575e3835838</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>31c19af7-0eac-475d-848e-1575e3835838</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>93c3ef83-c620-47d5-9d89-1995902b53ce</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>ANDREA123</a:CreatedBy><a:CreatedOn>2016-11-16T10:44:07.413</a:CreatedOn><a:UpdatedBy>ANDREA123</a:UpdatedBy><a:UpdatedOn>2016-11-16T10:45:38.62</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161116 10:44:07', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161116 10:45:42')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '35e14da8-9c08-414e-8c39-164378f309ab')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('35e14da8-9c08-414e-8c39-164378f309ab', 'Process recurring donations', 'Ability to generate the next recurring donation invoices and send them to DataVault for payment. Retrieve the payments and apply to the iMIS invoice.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionAutoPayInvoiceProcessingData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>f8f2acab-3dca-4fa7-b3a5-82af6b782123</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>RunAutoPayInvoiceProcessing</a:ActionTypeName><a:Description>Run AutoPay invoice processing.</a:Description><a:GenerateAutoPayInvoices>true</a:GenerateAutoPayInvoices><a:QueryDocumentID>5ba797bc-0365-487b-a7e0-a1b306ead2f5</a:QueryDocumentID><a:RenewalPolicyID/><a:RetrieveProcessedPaymentsFromDataVault>true</a:RetrieveProcessedPaymentsFromDataVault><a:SendInvoicePaymentsToDataVault>true</a:SendInvoicePaymentsToDataVault></Action></Actions><DataSources i:nil="true"/><Description>Ability to generate the next recurring donation invoices and send them to DataVault for payment. Retrieve the payments and apply to the iMIS invoice.</Description><Evaluations/><Name>Process recurring donations</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>2085f265-e9aa-4537-9602-846e31f00718</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>35e14da8-9c08-414e-8c39-164378f309ab</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>35e14da8-9c08-414e-8c39-164378f309ab</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers/><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>SCLARK</a:CreatedBy><a:CreatedOn>2016-10-31T04:51:58.593</a:CreatedOn><a:UpdatedBy>SCLARK</a:UpdatedBy><a:UpdatedOn>2016-10-31T04:59:04.617</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'fe22abf7-74a1-4f90-b6fc-df9de85e68cb', '20161031 04:51:58', '26aec2ad-7f7e-4f6b-b276-4d076042c15f', '20161031 14:14:58')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '977af0e0-542c-4978-876c-20ff9395de91')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('977af0e0-542c-4978-876c-20ff9395de91', 'Staff recent renewals list alert', 'Creates an alert listing the members who have renewed in the past 7 days. ', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>65b000ab-7189-49d3-a57f-47c90926471b</DataSourceId><DataSourceName>Renewals</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>5007a86c-688d-47b4-a029-c59281356d84</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing the members who have renewed in the past 7 days. </Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>65b000ab-7189-49d3-a57f-47c90926471b</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent renewals list alert</Name><Notifications><NotificationDefinition><DataSources><string>65b000ab-7189-49d3-a57f-47c90926471b</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent renewals&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach member in Renewals limit 10}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#member.code_PartyID}"&gt;{#member.Name}&lt;/a&gt; renewed on {#member.Renewed_Date format=m} &lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Membership/Recent_renewals.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>0711c167-1a20-475a-a72b-e6ef94c62c01</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>977af0e0-542c-4978-876c-20ff9395de91</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>977af0e0-542c-4978-876c-20ff9395de91</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>39c8e111-dab2-4252-b52c-eeda207a44bd</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:27:31.39</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-14T10:01:00.393</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:27:31', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150814 10:01:03')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'b79eb66d-c7c8-436f-9ba0-21c92de748a0')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('b79eb66d-c7c8-436f-9ba0-21c92de748a0', 'Follow up activity alert', 'Displays an alert when the selected contact has an activity follow up date in the next week which is assigned to the current user. ', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4e26506d-1ac1-44f9-b4c4-9d6f6c1a6591</DataSourceId><DataSourceName>FollowUps</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>862fee7e-5b4a-45c8-8198-0468fd28e2b1</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>d4fcd1ff-2a0c-4609-8fd5-282d67e55aa8</DataSourceId><DataSourceName>UnassignedTasks</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>34cb5e2f-d37f-43a3-bd52-e8a0af6f7ffd</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays an alert when the selected contact has an activity follow up date in the next week which is assigned to the current user. </Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>4e26506d-1ac1-44f9-b4c4-9d6f6c1a6591</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>d4fcd1ff-2a0c-4609-8fd5-282d67e55aa8</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Follow up activity alert</Name><Notifications><NotificationDefinition><DataSources><string>4e26506d-1ac1-44f9-b4c4-9d6f6c1a6591</string><string>d4fcd1ff-2a0c-4609-8fd5-282d67e55aa8</string></DataSources><DefaultTemplate>{foreach activity in FollowUps}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/alarm-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Follow up on &lt;strong&gt;{#activity.FollowUpDate}&lt;/strong&gt;:&lt;br /&gt;&#xD;
&lt;a href="[~]/ActivityProfile?ID={#activity.Id}"&gt;{#activity.Type}&lt;/a&gt; - {#activity.Note}&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}&#xD;
{foreach activity in UnassignedTasks}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/alarm-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Follow up on &lt;strong&gt;{#activity.FollowUpDate}&lt;/strong&gt; (Unassigned):&lt;br /&gt;&#xD;
&lt;a href="[~]/ActivityProfile?ID={#activity.Id}"&gt;{#activity.Type}&lt;/a&gt; - {#activity.Note}&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>ebd53d92-ecfb-41f5-aec5-8bf537b02002</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>b79eb66d-c7c8-436f-9ba0-21c92de748a0</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>b79eb66d-c7c8-436f-9ba0-21c92de748a0</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>48d4b7db-a97c-4be2-9d9a-ad429c3d7e2b</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-08-29T11:16:46.903</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-08-29T11:17:42.42</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:16:46', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:17:46')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '7b49886f-814c-45e8-ab19-233dd02dfa69')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7b49886f-814c-45e8-ab19-233dd02dfa69', 'Staff online registration closes soon alert', 'Creates an alert when the online registration for an event closes within 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>7c2bd392-98c3-42d6-9df4-c47daa109ae2</DataSourceId><DataSourceName>RegClosesSoon</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>45249b04-4302-4043-b377-60e201af4e80</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert when the online registration for an event closes within 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>7c2bd392-98c3-42d6-9df4-c47daa109ae2</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff online registration closes soon alert</Name><Notifications><NotificationDefinition><DataSources><string>7c2bd392-98c3-42d6-9df4-c47daa109ae2</string></DataSources><DefaultTemplate>{foreach reg in RegClosesSoon}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/hourglass-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;Online registration for &lt;a href="[~]/Event.aspx?EventKey={#reg.EventCode}"&gt;{#reg.EventName}&lt;/a&gt; ends &lt;strong&gt;{#reg.Closes}&lt;/strong&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>64378642-a115-4c6a-9326-6727a5b72d16</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>7b49886f-814c-45e8-ab19-233dd02dfa69</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>7b49886f-814c-45e8-ab19-233dd02dfa69</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>f224e7fb-c798-431c-82d4-06fbdff9805f</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:35:43.163</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:35:57.103</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:35:43', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:36:18')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '3f908ec7-14fd-4e39-b489-2417f1bf10de')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('3f908ec7-14fd-4e39-b489-2417f1bf10de', 'Staff volunteer history and upcoming summary', 'Displays a summary of the number of volunteers who recorded attendance for the last 7 days and volunteers who are planning on attending in the next 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>fcb3d196-7e32-44db-8deb-e0a5b147429b</DataSourceId><DataSourceName>RecentHistory</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>b1625ab8-6b3a-48a4-b14c-87370b972a67</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>f1e7cdd0-0553-4280-a6a4-2d1ddc0ed14d</DataSourceId><DataSourceName>ScheduledVolunteers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>d390b05e-2433-4f56-9e8c-f02ff89cf4fb</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>385ec7a2-3efe-4fab-a983-e530ff23d0c8</DataSourceId><DataSourceName>RecentSummary</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>97dd2889-d350-45d4-af44-b0ac179cf5c9</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>517a8729-6e05-4e41-ba0b-7e4f9195fceb</DataSourceId><DataSourceName>UpcomingSummary</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>01cb1525-0c0c-4659-9058-36c89168fe56</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays a summary of the number of volunteers who recorded attendance for the last 7 days and volunteers who are planning on attending in the next 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>fcb3d196-7e32-44db-8deb-e0a5b147429b</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>f1e7cdd0-0553-4280-a6a4-2d1ddc0ed14d</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff volunteer history and upcoming summary</Name><Notifications><NotificationDefinition><DataSources><string>385ec7a2-3efe-4fab-a983-e530ff23d0c8</string><string>517a8729-6e05-4e41-ba0b-7e4f9195fceb</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&#xD;
&lt;img alt="" src="[~]/images/Icons/Alerts/hand-blue.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    &lt;li&gt;&lt;strong&gt;{#RecentSummary.Volunteers} volunteer(s)&lt;/strong&gt; have recently recorded attendance.&lt;/li&gt;&#xD;
    &lt;li&gt;&lt;strong&gt;{#UpcomingSummary.Volunteers} volunteer(s)&lt;/strong&gt; are planning on attending soon.&lt;/li&gt;&#xD;
    &lt;li&gt;&lt;strong&gt;&lt;a href="[~]/iCore/Staff_Dashboards/Volunteers/Recent_and_upcoming_attendance.aspx"&gt;View all&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>6d3925bd-cb81-4531-94f3-88e7dca4c1a8</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>3f908ec7-14fd-4e39-b489-2417f1bf10de</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>3f908ec7-14fd-4e39-b489-2417f1bf10de</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>74fa6ef5-b5de-49a8-8296-a8a6517e5cff</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>ANDREA123</a:CreatedBy><a:CreatedOn>2016-02-25T14:31:19.827</a:CreatedOn><a:UpdatedBy>ANDREA123</a:UpdatedBy><a:UpdatedOn>2016-02-25T14:34:20.497</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:31:19', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160408 09:02:55')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'e0fb379e-1708-40f4-8efc-331042156dcb')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e0fb379e-1708-40f4-8efc-331042156dcb', 'Event cancellation notification', 'Sends a notification to registrants when an event is cancelled.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionCommunicationJobData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>44c03efe-feab-47ce-857b-f65673181f85</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>CommunicationJob</a:ActionTypeName><a:CommunicationTemplateId>64e880ef-f06e-4933-9ac1-602aacaf32cb</a:CommunicationTemplateId><a:Description>Event Cancellation Notice</a:Description><a:RecipientDatasourceId>7603b59b-b7f1-47f8-b195-c2539cbee6b9</a:RecipientDatasourceId></Action></Actions><DataSources><anyType i:type="DataSourceEntityData"><DataSourceId>9059d4be-39ad-40be-89cb-3aebf3a4d1e3</DataSourceId><DataSourceName>Table:Meet_Master</DataSourceName></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>7603b59b-b7f1-47f8-b195-c2539cbee6b9</DataSourceId><DataSourceName>recipients</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>7e14d3dc-adbc-4390-97d2-c5a0a7ab2beb</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Sends a notification to registrants when an event is cancelled.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>7603b59b-b7f1-47f8-b195-c2539cbee6b9</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><Name>Event cancellation notification</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>ef746014-a884-43ef-b4e5-0d8f3838f48f</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>e0fb379e-1708-40f4-8efc-331042156dcb</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>e0fb379e-1708-40f4-8efc-331042156dcb</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="a:TaskDefinitionTriggerDataChangedData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>true</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>9059d4be-39ad-40be-89cb-3aebf3a4d1e3</a:TriggerId><a:TriggerTypeName>Data</a:TriggerTypeName><a:EntityName/><a:Filters><Filter i:type="SinglePropertyFilterData"><Comparison>None</Comparison><PropertyName>STATUS</PropertyName><PropertyValue i:nil="true"/><ValueChangedFrom/><ValueChangedTo>X</ValueChangedTo></Filter></a:Filters><a:FireTypes><TriggerFireTypeData>Update</TriggerFireTypeData></a:FireTypes><a:TableName>Meet_Master</a:TableName><a:TriggerSystemEventType>None</a:TriggerSystemEventType></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>CPEREZ</a:CreatedBy><a:CreatedOn>2017-01-06T13:03:36.087</a:CreatedOn><a:UpdatedBy>CPEREZ</a:UpdatedBy><a:UpdatedOn>2017-01-06T13:05:20.78</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '26aec2ad-7f7e-4f6b-b276-4d076042c15f', '20170106 13:03:36', '26aec2ad-7f7e-4f6b-b276-4d076042c15f', '20170106 13:05:33')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'e7561f7e-3635-414b-8bdd-386ea876b4c3')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e7561f7e-3635-414b-8bdd-386ea876b4c3', 'Staff any major donor gifts alert', 'Creates an alert displaying recent gifts from any major donor.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>2060f009-e412-46f1-ad06-e0c23708c2fc</DataSourceId><DataSourceName>MajorDonorGifts</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>fe8108e9-8094-49bc-ba68-db6b073de21a</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert displaying recent gifts from any major donor.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>2060f009-e412-46f1-ad06-e0c23708c2fc</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff any major donor gifts alert</Name><Notifications><NotificationDefinition><DataSources><string>2060f009-e412-46f1-ad06-e0c23708c2fc</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/star-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent Major Donor gifts&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach gift in MajorDonorGifts}&#xD;
    &lt;li&gt;&#xD;
    &lt;a href="[~]/Party.aspx?ID={#gift.ID}"&gt;{#gift.FullName}&lt;/a&gt;: &lt;strong&gt;{#gift.Amount}&lt;/strong&gt; on {#gift.DateReceived}&#xD;
    &lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>17f29199-181a-4a5b-b6e5-9a17ae48fc59</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>e7561f7e-3635-414b-8bdd-386ea876b4c3</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>e7561f7e-3635-414b-8bdd-386ea876b4c3</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>b22c5f62-c949-4017-8dba-ea8f61c6befb</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:31:02.027</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-08-03T08:41:02.377</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:31:02', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:41:07')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '5c244217-650e-495f-a99f-3f1a33bbd7f5')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5c244217-650e-495f-a99f-3f1a33bbd7f5', 'Waitlist for function title', 'Used to display page title for a function waitlist.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>211f78dc-4a23-4ff2-b859-3dba19eaf275</DataSourceId><DataSourceName>Function</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>2f7246d5-63fe-4825-920a-d8eee2316545</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Used to display page title for a function waitlist.</Description><Evaluations/><IsActive>true</IsActive><Name>Waitlist for function title</Name><Notifications><NotificationDefinition><DataSources><string>211f78dc-4a23-4ff2-b859-3dba19eaf275</string></DataSources><DefaultTemplate>&lt;h2&gt;Waitlist for {#Function.EventName} - {#Function.FunctionName}&lt;/h2&gt;&#xD;
&lt;a href="[Website]/Event.aspx?EventKey={#Function.EventCode}"&gt;View event&lt;/a&gt;</DefaultTemplate><NotificationDefinitionId>c9c05b74-70e8-4b33-938b-2a4559e9687d</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>5c244217-650e-495f-a99f-3f1a33bbd7f5</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>5c244217-650e-495f-a99f-3f1a33bbd7f5</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>5d571240-6532-495f-9629-2e35605b8e1b</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-12-14T15:04:40.367</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-12-14T15:05:12.49</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:04:40', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:05:15')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '9e901a4b-d65d-4c9d-a255-41842f46d485')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('9e901a4b-d65d-4c9d-a255-41842f46d485', 'Staff volunteer attendance pending approval', 'Creates an alert with a count of volunteer attendances needing approval.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>21af1e96-69c5-49b6-a940-3bc9795225e0</DataSourceId><DataSourceName>AttendanceList</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>8fdcfd2e-87d8-48e3-9bc3-3f973051db71</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>db28fd30-9f14-4eed-a68a-9460d1c93253</DataSourceId><DataSourceName>AttendanceSummary</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>0a2e3321-5967-4eac-86c1-3c9d1c6ef861</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert with a count of volunteer attendances needing approval.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>21af1e96-69c5-49b6-a940-3bc9795225e0</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff volunteer attendance pending approval</Name><Notifications><NotificationDefinition><DataSources><string>db28fd30-9f14-4eed-a68a-9460d1c93253</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&lt;strong&gt;{#AttendanceSummary.Count} attendance record(s)&lt;/strong&gt; are pending approval.&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>8831ac79-9667-495a-ae72-b537bd9fe907</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>9e901a4b-d65d-4c9d-a255-41842f46d485</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>9e901a4b-d65d-4c9d-a255-41842f46d485</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>0064169b-0483-4c32-9809-1d4d7a9afc93</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>ANDREA123</a:CreatedBy><a:CreatedOn>2016-02-25T14:27:15.487</a:CreatedOn><a:UpdatedBy>ANDREA123</a:UpdatedBy><a:UpdatedOn>2016-02-25T14:29:32.04</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:27:15', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:29:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '4a039901-d1e1-47e7-8fa8-432ea99ae46f')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('4a039901-d1e1-47e7-8fa8-432ea99ae46f', 'Staff upcoming event alert', 'Creates an alert for each event that begins within the next 15 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4894ff83-5f9d-4ab1-a4e9-0898f6e4089f</DataSourceId><DataSourceName>UpcomingEvents</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>3f4cce3e-a672-474d-bb63-6d9de217336a</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert for each event that begins within the next 15 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>4894ff83-5f9d-4ab1-a4e9-0898f6e4089f</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff upcoming event alert</Name><Notifications><NotificationDefinition><DataSources><string>4894ff83-5f9d-4ab1-a4e9-0898f6e4089f</string></DataSources><DefaultTemplate>{foreach event in UpcomingEvents}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/calendar-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&lt;a href="[~]/Event.aspx?EventKey={#event.EventCode}"&gt;{#event.EventName}&lt;/a&gt; begins on &lt;strong&gt;{#event.BeginDate format="m"}&lt;/strong&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>af093fce-e5e9-4b0a-93dd-c45d13fbe9fa</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>4a039901-d1e1-47e7-8fa8-432ea99ae46f</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>4a039901-d1e1-47e7-8fa8-432ea99ae46f</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>f2b922ec-ba86-4fe5-8bd0-37d148096f65</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:33:40.47</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:33:55.707</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:33:40', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:34:26')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '3ede8482-e141-4ae8-8689-474cc15d1425')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('3ede8482-e141-4ae8-8689-474cc15d1425', 'Staff lapsing members summary alert', 'Creates an alert with a count of members whose memberships expire within 7 days. ', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>449b4f4a-fc1b-4150-b161-7c2a48dbb28d</DataSourceId><DataSourceName>LapsingMembers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>b16a2c83-912b-404c-96af-0cde30cef0f6</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert with a count of members whose memberships expire within 7 days. </Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>449b4f4a-fc1b-4150-b161-7c2a48dbb28d</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff lapsing members summary alert</Name><Notifications><NotificationDefinition><DataSources><string>449b4f4a-fc1b-4150-b161-7c2a48dbb28d</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Membership/Members_lapsing_soon.aspx"&gt;{#LapsingMembers.NumberLapsing} member(s)&lt;/a&gt; lapse in the next week&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>905a1f2f-7559-4781-8133-95726fbb0536</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>3ede8482-e141-4ae8-8689-474cc15d1425</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>3ede8482-e141-4ae8-8689-474cc15d1425</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>a4effb10-9109-4bcf-b4e4-67c47af42737</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:22:35.6</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:24:35.747</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:22:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:24:37')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'fed57640-c26c-4402-8d74-47679c513337')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('fed57640-c26c-4402-8d74-47679c513337', 'PCI Noncompliance Alert - Password History', 'This alert will show when a password history count is between 0 and 3.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>b5622c47-31bf-4fd7-90e0-d87ee29aeec3</DataSourceId><DataSourceName>PassowrdExpiration</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>c52d60b6-b7b5-4a94-860a-d1e0620faede</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>This alert will show when a password history count is between 0 and 3.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>b5622c47-31bf-4fd7-90e0-d87ee29aeec3</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>PCI Noncompliance Alert - Password History</Name><Notifications><NotificationDefinition><DataSources><string>b5622c47-31bf-4fd7-90e0-d87ee29aeec3</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
PCI compliance violation: &lt;a href="[website]/Settings/Contacts/Authentication/iMIS/Setup/PasswordExpirationConfiguration.aspx"&gt;Administrators&lt;/a&gt; must not be allowed to reuse any of their last 4 passwords&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>e42c0e10-0665-4af4-8931-1289c4945a69</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>fed57640-c26c-4402-8d74-47679c513337</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>fed57640-c26c-4402-8d74-47679c513337</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>a9edbbea-6b9a-444c-b1c9-03c7d099f844</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2016-04-08T08:55:58.977</a:CreatedOn><a:UpdatedBy>RDELFELD</a:UpdatedBy><a:UpdatedOn>2016-04-12T14:47:32.21</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:55:58', '9977645c-1573-408b-8ce3-c7bc0d4b242f', '20160412 14:48:52')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '5d970207-a95e-4882-a605-4b010f16e583')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5d970207-a95e-4882-a605-4b010f16e583', 'VIP alert', 'Intended for staff use; Creates a VIP alert if the selected contact is a committee President or Chair.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>5c801589-1153-41be-9104-b7b49cd756c2</DataSourceId><DataSourceName>VIPs</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/VIP contacts</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Intended for staff use; Creates a VIP alert if the selected contact is a committee President or Chair.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>5c801589-1153-41be-9104-b7b49cd756c2</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>VIP alert</Name><Notifications><NotificationDefinition><DataSources><string>5c801589-1153-41be-9104-b7b49cd756c2</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/cup-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;VIP&lt;/h4&gt;&#xD;
{foreach group in VIPs}&#xD;
{#group.CommitteeName} -&amp;nbsp;{#group.Position}&lt;br /&gt;&#xD;
{/foreach}&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>a88bd600-0090-48f0-a0aa-b20c6eee180a</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>5d970207-a95e-4882-a605-4b010f16e583</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>5d970207-a95e-4882-a605-4b010f16e583</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>eaf5d4c0-8928-4f97-8aed-ebe44edcfda1</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:24:41.64</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-10-02T12:33:57.797</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:24:41', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:34:02')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '8e37307d-e177-4722-8c5b-4dbd92d80ded')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('8e37307d-e177-4722-8c5b-4dbd92d80ded', 'Event invoice report alert', 'Displays a button to print the invoice for an event registration.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>7052a383-74c3-4cf5-94f6-05d09650c36a</DataSourceId><DataSourceName>HasInvoice</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>81aea83b-b87c-4ee3-a384-5194bd0772ba</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays a button to print the invoice for an event registration.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>7052a383-74c3-4cf5-94f6-05d09650c36a</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Event invoice report alert</Name><Notifications><NotificationDefinition><DataSources><string>7052a383-74c3-4cf5-94f6-05d09650c36a</string></DataSources><DefaultTemplate>&lt;script type="text/javascript"&gt;&#xD;
// Popup window code&#xD;
function newPopup(url) {&#xD;
    NewWindow(url, ''Report'', ''current'', ''nonmodal'', false);&#xD;
}&#xD;
&lt;/script&gt;&#xD;
&lt;div&gt;&lt;a type="button" class="TextButton" href="JavaScript:newPopup(''[Website]/EventInvoiceReport?Event={#HasInvoice.EventCode}&amp;amp;Include Zero Balance=True&amp;amp;Invoice Number={#HasInvoice.InvoiceNum}&amp;amp;Registrant ID={#HasInvoice.RegistrantID}'');"&gt;Print Invoice&lt;/a&gt;&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>2ca703a1-c114-489a-8d38-abda644b793f</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>8e37307d-e177-4722-8c5b-4dbd92d80ded</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>8e37307d-e177-4722-8c5b-4dbd92d80ded</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>23909707-3d01-479d-9883-e9dee5ab55a3</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-12-08T10:19:14.053</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2017-01-09T12:55:07.05</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 10:19:14', '327cca4c-f450-49a9-bc5f-5f9228037177', '20170216 13:46:47')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '5281abd1-2f75-4250-a61e-533677cf79e9')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5281abd1-2f75-4250-a61e-533677cf79e9', 'Staff new contacts alert', 'Creates an alert listing new contacts created in the last 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>aeb970e7-b294-4b12-ba67-afe49318c45a</DataSourceId><DataSourceName>NewContacts</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>0c104e8a-fd79-44c9-8b29-9ed7a3ccedcc</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing new contacts created in the last 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>aeb970e7-b294-4b12-ba67-afe49318c45a</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff new contacts alert</Name><Notifications><NotificationDefinition><DataSources><string>aeb970e7-b294-4b12-ba67-afe49318c45a</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;New contacts&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach contact in NewContacts}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#contact.PartyID}"&gt;{#contact.FullName}&lt;/a&gt; added on {#contact.CreatedOn format=m}&lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>e0df3dec-f730-4348-9048-d01682aa8053</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>5281abd1-2f75-4250-a61e-533677cf79e9</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>5281abd1-2f75-4250-a61e-533677cf79e9</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>20ca80ad-f315-4323-93ae-8eabfc8971b6</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:21:08.223</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:21:51.63</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:21:08', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:22:07')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'da3b20f6-0f3e-4816-affc-55e3e8d77904')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('da3b20f6-0f3e-4816-affc-55e3e8d77904', 'Staff recent renewals summary alert', 'Creates an alert with a count of members who have renewed in the past 7 days. ', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>7769265b-e838-46e7-9bac-b457eb49822c</DataSourceId><DataSourceName>Renewals</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>890aa3d3-9f27-4791-8e06-81952ad35d86</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert with a count of members who have renewed in the past 7 days. </Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>7769265b-e838-46e7-9bac-b457eb49822c</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent renewals summary alert</Name><Notifications><NotificationDefinition><DataSources><string>7769265b-e838-46e7-9bac-b457eb49822c</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/info-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Membership/Recent_renewals.aspx"&gt;{#Renewals.NumberRenewed} member(s)&lt;/a&gt; renewed in the last week&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>30786b72-341f-4504-b7ee-af3ef023bfc6</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>da3b20f6-0f3e-4816-affc-55e3e8d77904</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>da3b20f6-0f3e-4816-affc-55e3e8d77904</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>fe5bd488-c6e7-4c19-9f91-010b5720311d</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:26:27.763</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:26:43.763</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:26:27', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:27:01')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '8678bdce-9f0d-4b61-acc8-5736aa37e065')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('8678bdce-9f0d-4b61-acc8-5736aa37e065', 'Calculate engagement scores', 'Run periodically to calculate engagement scores. Calculation will not include data from the current day.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionCalculateEngagementScoresData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>7e531706-d4aa-4565-9970-914187de6e3a</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>CalculateEngagementScores</a:ActionTypeName><a:Description>Calculate engagement scores.</a:Description></Action></Actions><DataSources i:nil="true"/><Description>Run periodically to calculate engagement scores. Calculation will not include data from the current day.</Description><Evaluations/><Name>Calculate engagement scores</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>8ade1e48-956c-4560-ad2a-64de1166a65c</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>8678bdce-9f0d-4b61-acc8-5736aa37e065</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>8678bdce-9f0d-4b61-acc8-5736aa37e065</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">ca7e7882-736d-4022-9287-7318c7388d77</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2016-06-02T00:00:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2016-01-01T00:00:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>RICHARDK</a:CreatedBy><a:CreatedOn>2016-01-07T15:36:14.09</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-06-02T15:08:59.737</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '20d9ad58-054f-40b5-9be5-c4a27145ac17', '20160107 15:36:14', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160602 15:09:47')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'e6bb9114-8528-48a2-94fd-579bef13fa0b')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e6bb9114-8528-48a2-94fd-579bef13fa0b', 'Membership expires soon alert', 'Creates an alert if the selected contact''s membership will expire within 60 days', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>c50a6060-71a8-44eb-8f7c-b8eb1f5a0136</DataSourceId><DataSourceName>ExpiringMembers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Members expiring within 60 days</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact''s membership will expire within 60 days</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>c50a6060-71a8-44eb-8f7c-b8eb1f5a0136</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Membership expires soon alert</Name><Notifications><NotificationDefinition><DataSources><string>c50a6060-71a8-44eb-8f7c-b8eb1f5a0136</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Membership expires on&amp;nbsp;&lt;strong&gt;{#ExpiringMembers.PaidThrough format=m}&lt;/strong&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>e0362465-9431-44ef-be16-7f0f2f39154c</NotificationDefinitionId><PersonalizedTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/hourglass-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Your membership expires on&amp;nbsp;&lt;strong&gt;{#ExpiringMembers.PaidThrough format=m}&lt;/strong&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</PersonalizedTemplate><TaskDefinitionId>e6bb9114-8528-48a2-94fd-579bef13fa0b</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>e6bb9114-8528-48a2-94fd-579bef13fa0b</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>55f7062d-214b-47d7-98e4-6dc4afeb594a</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:49:31.787</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-09-30T14:47:31.48</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:49:31', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 12:57:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '77cc2752-71ae-4b69-a901-5a4641aaf66b')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('77cc2752-71ae-4b69-a901-5a4641aaf66b', 'AutoPay account cleanup', 'Task that runs weekly to update inactive AutoPay accounts to a deleted status.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionDeleteInactiveAutoPayAccountsData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>ab1e4db1-4fb0-4f5a-8226-98f96b48d1f9</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>DeleteInactiveAutoPayAccounts</a:ActionTypeName><a:Description>Delete AutoPay accounts that have been marked as inactive.</a:Description></Action></Actions><DataSources i:nil="true"/><Description>Task that runs weekly to update inactive AutoPay accounts to a deleted status.</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>AutoPay account cleanup</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>31496345-28b6-49cf-b41f-b3f0a9e4e515</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>77cc2752-71ae-4b69-a901-5a4641aaf66b</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>77cc2752-71ae-4b69-a901-5a4641aaf66b</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">76f5fc42-17a3-430c-a1f1-081a54d9aee5</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>0</Days><DaysOfWeek xmlns:a="http://schemas.datacontract.org/2004/07/System"><a:DayOfWeek>Tuesday</a:DayOfWeek></DaysOfWeek><Months>0</Months><ScheduleFrequency>Weekly</ScheduleFrequency><Time>0001-01-01T00:00:00</Time><Weeks>1</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2016-09-20T05:00:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>CPEREZ</a:CreatedBy><a:CreatedOn>2016-09-19T10:27:10.003</a:CreatedOn><a:UpdatedBy>CPEREZ</a:UpdatedBy><a:UpdatedOn>2016-09-19T10:27:44.097</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '26aec2ad-7f7e-4f6b-b276-4d076042c15f', '20160919 10:27:10', '26aec2ad-7f7e-4f6b-b276-4d076042c15f', '20160919 10:27:50')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '83872346-2c10-4667-8a4e-5d93117bdddd')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('83872346-2c10-4667-8a4e-5d93117bdddd', 'Event confirmation report alert', 'Displays a button to print the confirmation for an event registration.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>7582fdad-d364-46c5-877a-d05f37fbabc7</DataSourceId><DataSourceName>Registration</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>719b66b6-b38a-4e0c-886d-6f5d33631e2b</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays a button to print the confirmation for an event registration.</Description><Evaluations/><IsActive>true</IsActive><Name>Event confirmation report alert</Name><Notifications><NotificationDefinition><DataSources><string>7582fdad-d364-46c5-877a-d05f37fbabc7</string></DataSources><DefaultTemplate>&lt;script type="text/javascript"&gt;&#xD;
// Popup window code&#xD;
function newPopup(url) {&#xD;
    NewWindow(url, ''Report'', ''current'', ''nonmodal'', false);&#xD;
}&#xD;
&lt;/script&gt;&#xD;
&lt;div&gt;&lt;a type="button" class="TextButton" href="JavaScript:newPopup(''[Website]/iCore/Staff_Dashboards/Specific_Event/Event_confirmations_report_no_params.aspx?Event={#Registration.EventCode}&amp;amp;Display Organization Logo=True&amp;amp;Display Organization Name=True&amp;amp;Registrant ID={#Registration.ID}&amp;amp;Order Number= '');"&gt;Print Confirmation&lt;/a&gt;&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>033f88ca-6acf-4189-a853-6f8f37bcc033</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>83872346-2c10-4667-8a4e-5d93117bdddd</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>83872346-2c10-4667-8a4e-5d93117bdddd</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>5cad8873-54dd-4cb1-8a29-0e4c8da6c9e7</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-12-08T15:41:46.73</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-12-08T15:51:27.957</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:41:46', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161209 07:57:10')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '49f51017-953c-4f12-a107-5dd9943582d2')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('49f51017-953c-4f12-a107-5dd9943582d2', 'Staff recent gifts alert', 'Creates an alert listing recent gifts under 500.00.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>10b3eb53-1df9-4042-aae3-ee505454c1c6</DataSourceId><DataSourceName>RecentGifts</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>35b90395-0588-4f12-bc84-2211e2e57ce9</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing recent gifts under 500.00.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>10b3eb53-1df9-4042-aae3-ee505454c1c6</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent gifts alert</Name><Notifications><NotificationDefinition><DataSources><string>10b3eb53-1df9-4042-aae3-ee505454c1c6</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/donor-ribbon-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent gifts&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach gift in RecentGifts limit 10}&#xD;
    &lt;li&gt;{#gift.Donor} gave &lt;strong&gt;{#gift.Amount}&lt;/strong&gt;&lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Fundraising/Recent_gifts.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>16021a44-76a4-474f-a932-059265dd57a3</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>49f51017-953c-4f12-a107-5dd9943582d2</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>49f51017-953c-4f12-a107-5dd9943582d2</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>33204523-bd53-420c-ac14-b51bedb96a1b</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:28:53.11</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:29:26.69</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:28:53', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:29:29')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '27f50f61-e6d7-4461-afc7-643dbf17ab4a')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('27f50f61-e6d7-4461-afc7-643dbf17ab4a', 'Staff new users alert', 'Creates an alert listing new users (contacts with usernames) created in the last 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4c4280d4-8dee-4c29-9046-d5caf4f5c8e3</DataSourceId><DataSourceName>NewUsers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>0ccf0c13-7121-43d8-9c85-65a29de32165</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing new users (contacts with usernames) created in the last 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>4c4280d4-8dee-4c29-9046-d5caf4f5c8e3</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff new users alert</Name><Notifications><NotificationDefinition><DataSources><string>4c4280d4-8dee-4c29-9046-d5caf4f5c8e3</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;New users&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach contact in NewUsers}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#contact.PartyID}"&gt;{#contact.Full_Name}&lt;/a&gt; added on {#contact.CreatedOn format=m}&lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>0b7f112a-499f-444a-b549-c1c65cb4668b</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>27f50f61-e6d7-4461-afc7-643dbf17ab4a</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>27f50f61-e6d7-4461-afc7-643dbf17ab4a</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>4cb3fa75-3d2a-4f7a-b502-45c55812cc5f</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:13:43.89</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:14:22.423</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:13:43', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150818 15:23:23')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'bb74dd37-dfed-4238-89c1-6473c3ace180')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('bb74dd37-dfed-4238-89c1-6473c3ace180', 'Update TimeZone Offset', 'Updates TimeZone Offset to address Daylight Saving Time changes.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionUpdateTimeZoneOffsetData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>ada42556-2d8d-48fb-8c95-b21508e0ebab</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>UpdateTimeZoneOffset</a:ActionTypeName><a:Description>Update TimeZone Offset</a:Description></Action></Actions><DataSources i:nil="true"/><Description>Updates TimeZone Offset to address Daylight Saving Time changes.</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Update TimeZone Offset</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>716eef84-0792-4035-8f51-84e2bebb46b8</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>bb74dd37-dfed-4238-89c1-6473c3ace180</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>bb74dd37-dfed-4238-89c1-6473c3ace180</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">1d08cc09-6c76-4c5d-8e55-eef4c2faa3cc</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2016-08-04T02:00:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2016-08-04T02:00:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>NEVENZ</a:CreatedBy><a:CreatedOn>2016-08-04T14:47:43.723</a:CreatedOn><a:UpdatedBy>NEVENZ</a:UpdatedBy><a:UpdatedOn>2016-08-04T15:04:21.32</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160815 15:10:42', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160816 10:19:19')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'd577be59-2531-4947-b2cd-671de991a38b')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('d577be59-2531-4947-b2cd-671de991a38b', 'Join now alert', 'Creates an alert if the selected contact is not a member, prompting them to join.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>ed81cf67-9298-4682-889a-1d7ded18b5c8</DataSourceId><DataSourceName>Non-members</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Non-members</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact is not a member, prompting them to join.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>ed81cf67-9298-4682-889a-1d7ded18b5c8</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Join now alert</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;a href="[Website]/JoinNow"&gt;&lt;strong&gt;Join now&lt;/strong&gt;&lt;/a&gt; and start enjoying members-only resources, events, and learning opportunities!&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>488d7bd5-798c-47ab-8d68-0695a66fb2d7</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>d577be59-2531-4947-b2cd-671de991a38b</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>d577be59-2531-4947-b2cd-671de991a38b</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>f622ea0d-18a9-4473-b69c-da9bb609661a</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:42:43.887</a:CreatedOn><a:UpdatedBy>STACEY</a:UpdatedBy><a:UpdatedOn>2014-11-03T15:55:02.393</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:42:43', '73493eb2-7f2e-4345-a800-0bf5582b16bc', '20141103 15:55:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'af2310b5-84fb-48a6-b27a-6a0e764f3252')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('af2310b5-84fb-48a6-b27a-6a0e764f3252', 'Duplicate Contact Search', 'Searches all contacts for potential duplicates.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionStoredProcedureData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>1ef57668-6c82-4a19-8803-0f030a1639e3</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>StoredProcedure</a:ActionTypeName><a:Description>asi_DuplicateEngineBatchRun</a:Description><a:StoredProcedureName>asi_DuplicateEngineBatchRun</a:StoredProcedureName></Action></Actions><DataSources i:nil="true"/><Description>Searches all contacts for potential duplicates.</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Duplicate Contact Search</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>fa85fa23-9270-49f6-8ce0-223471fe34ec</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>af2310b5-84fb-48a6-b27a-6a0e764f3252</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>af2310b5-84fb-48a6-b27a-6a0e764f3252</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers/><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>KERRYT</a:CreatedBy><a:CreatedOn>2015-03-11T13:49:47.22</a:CreatedOn><a:UpdatedBy>RBERNSTEIN</a:UpdatedBy><a:UpdatedOn>2015-03-31T15:12:59.53</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '8c337930-8aaa-400f-a57b-ff8d3681ef4a', '20150311 13:49:47', 'f0ceb9ec-3020-438e-82a4-5f32b06d34a8', '20150331 15:13:10')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'aaa4511b-caa4-4e33-b0ff-6f1c5ca02806')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('aaa4511b-caa4-4e33-b0ff-6f1c5ca02806', 'Staff dropped or reinstated members alert', 'Creates an alert for members who have been dropped or reinstated recently.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>3310aa0f-00ac-4722-bd8f-7f8271b9a391</DataSourceId><DataSourceName>StatusChanged</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>a49f727f-8e82-4d64-a56c-5d5bb7743220</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert for members who have been dropped or reinstated recently.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>3310aa0f-00ac-4722-bd8f-7f8271b9a391</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff dropped or reinstated members alert</Name><Notifications><NotificationDefinition><DataSources><string>3310aa0f-00ac-4722-bd8f-7f8271b9a391</string></DataSources><DefaultTemplate>{foreach member in StatusChanged}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/info-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;a href="[~]/Party.aspx?ID={#member.PartyId}"&gt;{#member.FullName}&lt;/a&gt; ({#member.MemberType}) updated to &lt;strong&gt;{#member.MemberStatus}&lt;/strong&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>8fd80462-360a-48c6-8a60-46789e84ef9d</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>aaa4511b-caa4-4e33-b0ff-6f1c5ca02806</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>aaa4511b-caa4-4e33-b0ff-6f1c5ca02806</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>73368856-4a4b-465c-8f61-5311f318a9b7</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:32:14.653</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:32:26.56</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:32:14', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:32:45')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '90976f5d-7269-4f7c-ba38-73a7842fe3b4')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('90976f5d-7269-4f7c-ba38-73a7842fe3b4', 'Staff popular products this month alert ', 'Creates an alert listing the products with the highest quantity purchased this month.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>e7786156-a9a6-4314-9fe4-a22feafd8ca8</DataSourceId><DataSourceName>Products</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>6eb4666e-1573-491a-9c87-a63880f49aba</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing the products with the highest quantity purchased this month.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>e7786156-a9a6-4314-9fe4-a22feafd8ca8</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff popular products this month alert </Name><Notifications><NotificationDefinition><DataSources><string>e7786156-a9a6-4314-9fe4-a22feafd8ca8</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/star-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Popular products this month&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach prod in Products}&#xD;
    &lt;li&gt;&lt;a href="[~]/ItemDetail?iProductCode={#prod.ProductCode}&amp;amp;Category={#prod.ProductCategory}"&gt;{#prod.ProductName}&lt;/a&gt;: {#prod.QuantityOrdered format=f0} sold&lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>161cea32-f505-4aae-8936-10dabdbc457b</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>90976f5d-7269-4f7c-ba38-73a7842fe3b4</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>90976f5d-7269-4f7c-ba38-73a7842fe3b4</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>58f16f9a-1d62-46fb-b688-ce0c302ede5b</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:44:51.107</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:45:03.903</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:44:51', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:45:32')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '21aec3c8-dbb7-4572-bb83-7c1458d3f38f')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('21aec3c8-dbb7-4572-bb83-7c1458d3f38f', 'PCI Noncompliance Alert - Password Expiration', 'This alert will show when a system does not have an admin password expiration policy in force.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>57a3def4-0a5f-471c-b71a-7cee0b92aa2d</DataSourceId><DataSourceName>PasswordExpiration</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>c0740d18-d56b-48c8-8ff0-3412068e52fa</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>This alert will show when a system does not have an admin password expiration policy in force.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>57a3def4-0a5f-471c-b71a-7cee0b92aa2d</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>PCI Noncompliance Alert - Password Expiration</Name><Notifications><NotificationDefinition><DataSources><string>57a3def4-0a5f-471c-b71a-7cee0b92aa2d</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
PCI compliance violation: &lt;a href="[website]/Settings/Contacts/Authentication/iMIS/Setup/PasswordExpirationConfiguration.aspx"&gt;Administrator password expiration policy&lt;/a&gt; must be 90 days or less&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>359d7dc1-2b19-4268-a2a9-9f65f7a0f262</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>21aec3c8-dbb7-4572-bb83-7c1458d3f38f</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>21aec3c8-dbb7-4572-bb83-7c1458d3f38f</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>2cef98e2-7325-4a98-85e7-ec3906807cbd</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2016-03-23T15:25:41.843</a:CreatedOn><a:UpdatedBy>MANAGER</a:UpdatedBy><a:UpdatedOn>2016-03-23T15:25:41.843</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160323 15:25:41', '9977645c-1573-408b-8ce3-c7bc0d4b242f', '20160412 14:51:34')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'cd0655ef-ce2f-4d43-8ce9-7c49f6ebf79e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('cd0655ef-ce2f-4d43-8ce9-7c49f6ebf79e', 'New member welcome email', 'Sends out a welcome email on a weekly basis to members who have joined in the past week.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionCommunicationJobData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>a42eef4e-7293-482a-a134-48a1a8659ba2</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>CommunicationJob</a:ActionTypeName><a:CommunicationTemplateId>e31a50a7-7e40-463c-97ed-2f9de4856aab</a:CommunicationTemplateId><a:Description>New Member Welcome Email</a:Description><a:RecipientDatasourceId>70aa36f3-c6cd-44b9-b654-ac91292bcf9f</a:RecipientDatasourceId></Action></Actions><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>70aa36f3-c6cd-44b9-b654-ac91292bcf9f</DataSourceId><DataSourceName>NewMembers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/New members in the last 7 days</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Sends out a welcome email on a weekly basis to members who have joined in the past week.</Description><Evaluations/><Name>New member welcome email</Name><Notifications><NotificationDefinition><DataSources><string>70aa36f3-c6cd-44b9-b654-ac91292bcf9f</string></DataSources><DefaultTemplate/><NotificationDefinitionId>3b5d8751-e9c6-413a-b7cf-93f0f0497815</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>cd0655ef-ce2f-4d43-8ce9-7c49f6ebf79e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>cd0655ef-ce2f-4d43-8ce9-7c49f6ebf79e</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">1b9adb73-daf7-4e20-92e3-5ca70854d415</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>0</Days><DaysOfWeek xmlns:a="http://schemas.datacontract.org/2004/07/System"><a:DayOfWeek>Sunday</a:DayOfWeek></DaysOfWeek><Months>0</Months><ScheduleFrequency>Weekly</ScheduleFrequency><Time>0001-01-01T00:00:00</Time><Weeks>1</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2014-01-01T03:01:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-10-03T14:58:35.247</a:CreatedOn><a:UpdatedBy>STACEY</a:UpdatedBy><a:UpdatedOn>2015-04-07T15:43:58.227</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 14:58:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 15:02:09')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '1de1d2cb-053f-4135-8f40-7cbb799ad4c2')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('1de1d2cb-053f-4135-8f40-7cbb799ad4c2', 'Refresh Dynamic Groups - Daily', 'Refresh all groups based on IQA queries that are scheduled to update daily', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionRefreshDynamicGroupsData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>56aa2249-9a25-42ad-82ee-2c2201793611</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>RefreshDynamicGroups</a:ActionTypeName><a:Description>None selected</a:Description><a:ScheduleFrequency>Daily</a:ScheduleFrequency></Action></Actions><DataSources i:nil="true"/><Description>Refresh all groups based on IQA queries that are scheduled to update daily</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Refresh Dynamic Groups - Daily</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>85c06a56-092b-4043-8445-dbbca7531f23</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>1de1d2cb-053f-4135-8f40-7cbb799ad4c2</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>1de1d2cb-053f-4135-8f40-7cbb799ad4c2</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">05adb028-5bf0-48a7-82c5-f77bfc305e26</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2015-04-07T03:05:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2015-02-18T03:05:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2015-02-24T18:12:06.7</a:CreatedOn><a:UpdatedBy>STACEY</a:UpdatedBy><a:UpdatedOn>2015-04-07T15:41:24.533</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '6e5a7e0b-eb04-4991-84b8-7df45ecf4ae9')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('6e5a7e0b-eb04-4991-84b8-7df45ecf4ae9', 'Major donor alert', 'Intended for staff use; creates an alert if the selected contact is assigned to a Moves Manager.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>70776c3c-db48-4f1a-b80e-60f5404c5e65</DataSourceId><DataSourceName>MajorDonors</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Major Donors</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Intended for staff use; creates an alert if the selected contact is assigned to a Moves Manager.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>70776c3c-db48-4f1a-b80e-60f5404c5e65</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Major donor alert</Name><Notifications><NotificationDefinition><DataSources><string>70776c3c-db48-4f1a-b80e-60f5404c5e65</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/donor-ribbon-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Major Donor&lt;/h4&gt;&#xD;
Moves Manager:&amp;nbsp;&lt;a href="[~]/Party.aspx?ID={#MajorDonors.Moves_Manager_ID}"&gt;{#MajorDonors.Moves_Manager}&lt;/a&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>0df7dbe3-9209-4890-bf45-266e1982ce7c</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>6e5a7e0b-eb04-4991-84b8-7df45ecf4ae9</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>6e5a7e0b-eb04-4991-84b8-7df45ecf4ae9</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>37e1b987-59b0-4099-8f3c-8c00464e0a3d</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:20:32.443</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-09-30T14:48:41.697</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:20:32', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:34:25')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '3eaf129b-500e-4e5a-a494-8f3ff37962a9')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('3eaf129b-500e-4e5a-a494-8f3ff37962a9', 'Staff new volunteers alert', 'Creates an alert listing new volunteers available within 7 days either direction.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>e80fd3df-fa09-4ef1-bcc5-e70532b8e762</DataSourceId><DataSourceName>NewVolunteers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>1e7f6bde-20ab-4682-82ff-05c629b29685</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing new volunteers available within 7 days either direction.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>e80fd3df-fa09-4ef1-bcc5-e70532b8e762</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff new volunteers alert</Name><Notifications><NotificationDefinition><DataSources><string>e80fd3df-fa09-4ef1-bcc5-e70532b8e762</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;New volunteers&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach volunteer in NewVolunteers}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#volunteer.ID}"&gt;{#volunteer.FullName}&lt;/a&gt;&amp;nbsp;is available beginning {#volunteer.AvailableBeginning format=M}.&lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>d135deb0-e0a9-4041-9118-daf2bafd6693</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>3eaf129b-500e-4e5a-a494-8f3ff37962a9</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>3eaf129b-500e-4e5a-a494-8f3ff37962a9</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>a512dc5e-b1b3-4400-b5ce-6c23226f026b</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>ANDREA123</a:CreatedBy><a:CreatedOn>2016-02-25T14:25:43.107</a:CreatedOn><a:UpdatedBy>ANDREA123</a:UpdatedBy><a:UpdatedOn>2016-02-25T14:26:13.89</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:25:43', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:26:46')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'dc36acea-fc83-450c-9e03-904b834f61dc')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('dc36acea-fc83-450c-9e03-904b834f61dc', 'PCI Data Retention Cleanup', 'This task deletes the credit card data after the retention period.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionStoredProcedureData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>b11f2796-9ede-4e73-a952-f1cd03050af8</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>StoredProcedure</a:ActionTypeName><a:Description>asi_PciBlankCreditCardInfo</a:Description><a:EnableTriggerIdsAsParameters>false</a:EnableTriggerIdsAsParameters><a:StoredProcedureName>asi_PciBlankCreditCardInfo</a:StoredProcedureName></Action></Actions><DataSources i:nil="true"/><Description>This task deletes the credit card data after the retention period.</Description><Evaluations/><Name>PCI Data Retention Cleanup</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>d5bad40d-38d3-401b-95a6-04efa29874cb</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>dc36acea-fc83-450c-9e03-904b834f61dc</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>dc36acea-fc83-450c-9e03-904b834f61dc</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">63e1cbb4-e7bc-46c0-8e76-6e2b6c35ef26</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>0</Days><DaysOfWeek xmlns:a="http://schemas.datacontract.org/2004/07/System"><a:DayOfWeek>Friday</a:DayOfWeek></DaysOfWeek><Months>0</Months><ScheduleFrequency>Weekly</ScheduleFrequency><Time>0001-01-01T00:00:00</Time><Weeks>1</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2016-07-15T00:00:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2016-07-15T15:53:22.227</a:CreatedOn><a:UpdatedBy>KERRYT</a:UpdatedBy><a:UpdatedOn>2016-08-03T10:39:59.603</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160715 15:53:22', '8c337930-8aaa-400f-a57b-ff8d3681ef4a', '20160803 10:40:10')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'cd9a0bde-5875-467e-bb44-91176704fa0d')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('cd9a0bde-5875-467e-bb44-91176704fa0d', 'Event waitlist count', 'Displays the number of registrants waitlisted for each function of the selected event.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>a436d1d7-04a4-4585-a667-406ed383ad1a</DataSourceId><DataSourceName>WaitlistedCount</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>bcfa8103-77f2-43c6-a75f-2be25e5793ab</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Displays the number of registrants waitlisted for each function of the selected event.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>a436d1d7-04a4-4585-a667-406ed383ad1a</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Event waitlist count</Name><Notifications><NotificationDefinition><DataSources><string>a436d1d7-04a4-4585-a667-406ed383ad1a</string></DataSources><DefaultTemplate>{foreach function in WaitlistedCount}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;strong&gt;{#function.WaitlistCount format="f0"}&lt;/strong&gt; registrants on waitlist for &lt;strong&gt;{#function.FunctionName}&lt;/strong&gt;&lt;br /&gt;&#xD;
&lt;a href="[~]/iCore/Staff_Dashboards/Specific_Event/Function_Waitlist.aspx?EventKey={#function.EventCode}&amp;amp;FunctionKey={#function.FunctionCode}"&gt;View waitlist&lt;/a&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>7d05bb4b-a7d1-43cf-85c6-b61b66e432f1</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>cd9a0bde-5875-467e-bb44-91176704fa0d</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>cd9a0bde-5875-467e-bb44-91176704fa0d</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>1908a90a-c047-4c0d-9709-f201024d4ed0</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-12-13T16:47:27.997</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-12-14T15:05:43.557</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161213 16:47:27', '327cca4c-f450-49a9-bc5f-5f9228037177', '20170123 11:11:45')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'bf83275a-2965-4d7a-ac92-9335bb2519a1')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('bf83275a-2965-4d7a-ac92-9335bb2519a1', 'Staff low inventory alert', 'Creates an alert listing products which have low inventory.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4cfefc35-029b-434d-b6e4-555bb2e6712b</DataSourceId><DataSourceName>LowInventory</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>7b7e4e6c-ee26-4e17-805e-8bf922576385</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing products which have low inventory.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>4cfefc35-029b-434d-b6e4-555bb2e6712b</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff low inventory alert</Name><Notifications><NotificationDefinition><DataSources><string>4cfefc35-029b-434d-b6e4-555bb2e6712b</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Low inventory&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach product in LowInventory limit 10}&#xD;
    &lt;li&gt;&lt;a href="[~]/ItemDetail?iProductCode={#product.code_ProductCode}&amp;amp;Category={#product.Category}"&gt;{#product.Product}&lt;/a&gt;: {#product.QuantityAvailable format=f0} &lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Commerce/Low_inventory_products.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>b8498e20-8d58-4e20-8e15-bf652b54ba95</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>bf83275a-2965-4d7a-ac92-9335bb2519a1</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>bf83275a-2965-4d7a-ac92-9335bb2519a1</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>266e1632-708e-4217-92c1-cbfee3aebc61</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-17T09:21:12.337</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-17T09:21:26.947</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:21:12', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:21:45')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '066a609c-0c71-4980-bd2f-94fd726b47c3')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('066a609c-0c71-4980-bd2f-94fd726b47c3', 'Automatic renewals with cash billing cycles', 'Creates an alert which informs staff that there are members signed up for automatic renewal who are billed with a cash accounting method instead of accrual.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>6cccaa95-cd46-4286-ab78-5416fdc0292d</DataSourceId><DataSourceName>CashBasisAutoRenew</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>f79f8ef0-0327-4582-8f99-9f0d31c30c8d</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert which informs staff that there are members signed up for automatic renewal who are billed with a cash accounting method instead of accrual.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>6cccaa95-cd46-4286-ab78-5416fdc0292d</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Automatic renewals with cash billing cycles</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;
&lt;div class="media-body"&gt;
There are members who have signed up for automatic renewals but are not being billed on an accrual basis.&amp;nbsp;&lt;a href="[website]/iCore/Membership/AutoPay/Automatic_payment_instructions_with_cash_basis.aspx"&gt;&lt;strong&gt;View details&lt;/strong&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>ac739d97-b713-4fad-ad48-83aca2c0c498</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>066a609c-0c71-4980-bd2f-94fd726b47c3</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>066a609c-0c71-4980-bd2f-94fd726b47c3</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>9fe2da17-f27f-41ab-b665-bc4549806fa0</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2016-03-31T09:15:24.663</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-03-31T09:17:04.48</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160331 09:15:24', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161215 14:02:17')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'ffcaf8ec-8d4a-4fbf-9540-a9fe380a86fe')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('ffcaf8ec-8d4a-4fbf-9540-a9fe380a86fe', 'Staff regular pricing cutoff alert', 'Creates an alert when the regular registration pricing for an event will end within 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>822357bb-5bb8-4ef4-b155-d6aeeb38fdbe</DataSourceId><DataSourceName>RegularCutoffEvents</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>d564cf26-e748-40e0-9c96-112334fc4fa1</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert when the regular registration pricing for an event will end within 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>822357bb-5bb8-4ef4-b155-d6aeeb38fdbe</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff regular pricing cutoff alert</Name><Notifications><NotificationDefinition><DataSources><string>822357bb-5bb8-4ef4-b155-d6aeeb38fdbe</string></DataSources><DefaultTemplate>{foreach reg in RegularCutoffEvents}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/hourglass-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;Regular registration pricing for &lt;a href="[~]/Event.aspx?EventKey={#reg.EventCode}"&gt;{#reg.EventName}&lt;/a&gt; ends &lt;strong&gt;{#reg.Cutoff}&lt;/strong&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>d3b5e9e2-20e4-44fe-9282-47d319f8c0fa</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>ffcaf8ec-8d4a-4fbf-9540-a9fe380a86fe</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>ffcaf8ec-8d4a-4fbf-9540-a9fe380a86fe</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>232d53c8-d8f7-446c-94c0-1d121d401178</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:38:06.077</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:38:47.203</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:38:06', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:38:49')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '3e24ac67-5195-45c9-b765-ac7cda1182b1')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('3e24ac67-5195-45c9-b765-ac7cda1182b1', 'Task Log Cleanup', 'Task that runs daily to delete task logs older than a month. Failed task logs are deleted after 3 months. (This interval is configurable).', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionStoredProcedureData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>879271ee-9358-4f76-a1ae-835188890669</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>StoredProcedure</a:ActionTypeName><a:Description>asi_CleanTaskLog</a:Description><a:StoredProcedureName>asi_CleanTaskLog</a:StoredProcedureName></Action></Actions><DataSources i:nil="true"/><Description>Task that runs daily to delete task logs older than a month. Failed task logs are deleted after 3 months. (This interval is configurable)</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Task Log Cleanup</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>22668a95-2018-4603-8252-1a4242db2a5f</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>3e24ac67-5195-45c9-b765-ac7cda1182b1</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>3e24ac67-5195-45c9-b765-ac7cda1182b1</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">c4f8f9a6-c068-4a90-a252-82ed5ae86bad</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2015-06-08T09:10:14.3216413-05:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2015-06-08T09:10:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>TARINIK</a:CreatedBy><a:CreatedOn>2015-06-08T09:09:35.077</a:CreatedOn><a:UpdatedBy>TARINIK</a:UpdatedBy><a:UpdatedOn>2015-06-08T09:12:23.717</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150609 09:01:44', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150609 09:01:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'd9f18bcf-9b7a-4ac9-abe9-add14c25e923')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('d9f18bcf-9b7a-4ac9-abe9-add14c25e923', 'Content and Navigation Workflow', 'Sends expiration notices and removes content and navigation that has expired.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionContentWorkflowData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>d03038d6-1db4-48c2-81d5-d316470b1619</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>RunContentWorkflow</a:ActionTypeName><a:ContentCommunicationTemplateId>36ed7b13-1d6f-41e4-8442-503436a04d08</a:ContentCommunicationTemplateId><a:Description i:nil="true"/><a:NavigationCommunicationTemplateId>950199de-e3f5-4796-ba17-5ff464f13a62</a:NavigationCommunicationTemplateId></Action></Actions><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>3b669818-20cb-4c8d-bdb1-2160103c1f4c</DataSourceId><DataSourceName>ContentNotifications</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>b7a67c45-b1dc-469e-a900-ae2748e81d13</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>982b5184-5187-474e-b2e6-43d3e763b961</DataSourceId><DataSourceName>NavigationNotifications</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>1b646b21-e582-47c7-9c4a-7d3e91215187</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Sends expiration notices and removes content and navigation that has expired.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>3b669818-20cb-4c8d-bdb1-2160103c1f4c</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>982b5184-5187-474e-b2e6-43d3e763b961</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><Name>Content and Navigation Workflow</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>84ab1616-edf6-4688-a1b9-a74e7ddb41b8</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>d9f18bcf-9b7a-4ac9-abe9-add14c25e923</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>d9f18bcf-9b7a-4ac9-abe9-add14c25e923</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">92ef6d7c-2117-4244-bce7-3459bad4a20b</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2015-12-02T04:15:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2015-12-01T04:15:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>CROBERTSON</a:CreatedBy><a:CreatedOn>2015-12-02T11:01:10.847</a:CreatedOn><a:UpdatedBy>CROBERTSON</a:UpdatedBy><a:UpdatedOn>2015-12-02T11:04:28.64</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '63cc601d-b49e-4f69-9ffb-1dd71bb91517', '20151202 11:01:10', '63cc601d-b49e-4f69-9ffb-1dd71bb91517', '20151202 11:06:31')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '20c696eb-b684-43c4-98af-aef826e0da4b')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('20c696eb-b684-43c4-98af-aef826e0da4b', 'Missing mobile phone alert', 'Creates an alert if the selected contact has no mobile phone number defined.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>54f3e083-4c54-4e60-a3eb-8b7e9907d9db</DataSourceId><DataSourceName>MissingMobilePhone</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>685837de-156f-48fe-bcc8-c89c3dfac78e</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact has no mobile phone number defined.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>54f3e083-4c54-4e60-a3eb-8b7e9907d9db</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Missing mobile phone alert</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Mobile phone number is missing&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>fa2ccd2c-f0d2-431f-a662-b473d70dcca1</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>20c696eb-b684-43c4-98af-aef826e0da4b</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>20c696eb-b684-43c4-98af-aef826e0da4b</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>d73fb58a-aa19-41cc-bcce-4ada090841e8</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>BSCHRADER</a:CreatedBy><a:CreatedOn>2015-08-19T15:59:01.08</a:CreatedOn><a:UpdatedBy>ANDREWH</a:UpdatedBy><a:UpdatedOn>2016-08-16T12:56:12.14</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 15:59:01', 'b523ac5c-49c5-4dd7-94b2-b102b1fe920d', '20160816 13:41:27')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '5fb57e67-9ecb-44ed-a759-b13edfbd285e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5fb57e67-9ecb-44ed-a759-b13edfbd285e', 'Staff recent event registrations alert', 'Creates an alert listing the 10 most recent event registrations.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>6d5607a4-5e6d-4375-9951-f77dffb64ab9</DataSourceId><DataSourceName>RecentRegistrations</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>5ba5cf33-86d8-4750-917e-11751bd5ab98</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing the 10 most recent event registrations.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>6d5607a4-5e6d-4375-9951-f77dffb64ab9</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent event registrations alert</Name><Notifications><NotificationDefinition><DataSources><string>6d5607a4-5e6d-4375-9951-f77dffb64ab9</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent registrations&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach reg in RecentRegistrations limit 10}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#reg.code_PartyId}"&gt;{#reg.Registrant}&lt;/a&gt; registered for the &lt;a href="[~]/Event.aspx?EventKey={#reg.code_EventCode}"&gt;{#reg.EventName}&lt;/a&gt;&lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Events/Recent_event_registrations.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>93c7e689-21bc-4f0e-b0ce-61dbd8edc807</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>5fb57e67-9ecb-44ed-a759-b13edfbd285e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>5fb57e67-9ecb-44ed-a759-b13edfbd285e</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>31341b3c-c228-4eb5-9a38-6058a83a3b10</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:41:02.613</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:41:48.913</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:41:02', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:41:54')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '8d312ffe-5661-4a5e-8d85-b2f33c450863')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('8d312ffe-5661-4a5e-8d85-b2f33c450863', 'Staff early pricing cutoff alert', 'Creates an alert for the selected event when the early registration pricing will end within 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>18fc507b-26f6-4c68-b2e7-d165dfb0b06a</DataSourceId><DataSourceName>EarlyPricingEnds</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>8f7d1f18-0a15-4d6e-84a4-1b1a91e093b3</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert for the selected event when the early registration pricing will end within 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>18fc507b-26f6-4c68-b2e7-d165dfb0b06a</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff early pricing cutoff alert</Name><Notifications><NotificationDefinition><DataSources><string>18fc507b-26f6-4c68-b2e7-d165dfb0b06a</string></DataSources><DefaultTemplate>{foreach reg in EarlyPricingEnds}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/hourglass-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;Early registration pricing for &lt;a href="[~]/Event.aspx?EventKey={#reg.EventCode}"&gt;{#reg.EventName}&lt;/a&gt; ends&amp;nbsp;&lt;strong&gt;{#reg.Cutoff}&lt;/strong&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>73f80cfc-bfa1-475b-bfc3-90204f540bb8</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>8d312ffe-5661-4a5e-8d85-b2f33c450863</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>8d312ffe-5661-4a5e-8d85-b2f33c450863</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>8e3f5f97-1ea4-4b2b-b1c3-3a741277807c</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:37:09.213</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:37:23.917</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:37:09', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:37:42')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'aff2b818-cc19-44ed-a921-b40b9bb7f9ac')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('aff2b818-cc19-44ed-a921-b40b9bb7f9ac', 'Missing primary email alert', 'Creates an alert if the selected contact has no primary email.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4c6097f0-8771-4347-8ad3-b64f7a2f7bb2</DataSourceId><DataSourceName>MissingEmail</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Contacts with no primary email</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected contact has no primary email.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>4c6097f0-8771-4347-8ad3-b64f7a2f7bb2</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Missing primary email alert</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
Primary email is missing&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>8529fb7e-7f42-4f4b-9cf0-6c937b9517df</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>aff2b818-cc19-44ed-a921-b40b9bb7f9ac</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>aff2b818-cc19-44ed-a921-b40b9bb7f9ac</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>c88f7648-6027-4fb2-ae7f-becadae7a84c</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-09-30T13:40:39.5</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-09-30T14:48:15.29</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:40:39', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:32:57')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '320e8f8f-5b6e-4520-9a29-b56f00ed6631')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('320e8f8f-5b6e-4520-9a29-b56f00ed6631', 'PCI Noncompliance Alert - Session Timeout', 'This alert will show when a system does not have a PCI compliant session timeout policy for system administrators.', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>52890e69-53fc-4df3-9225-155fbc227355</DataSourceId><DataSourceName>SessionTimeoutMinutes</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>52de3930-d47c-414d-9832-911a49a8581a</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>This alert will show when a system does not have a PCI compliant session timeout policy for system administrators.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>52890e69-53fc-4df3-9225-155fbc227355</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>PCI Noncompliance Alert - Session Timeout</Name><Notifications><NotificationDefinition><DataSources><string>52890e69-53fc-4df3-9225-155fbc227355</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/warning.png" /&gt;&#xD; &lt;div class="media-body"&gt;&#xD; PCI compliance violation: &lt;a href="[website]/Settings/Contacts/Authentication/iMIS/Setup/PasswordExpirationConfiguration.aspx"&gt;Administrator session timeout policy&lt;/a&gt; must be 15 minutes or less&lt;/div&gt;&#xD; &lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>724462af-1bd4-4b2d-a00c-3d14e2d27fd7</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>320e8f8f-5b6e-4520-9a29-b56f00ed6631</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>320e8f8f-5b6e-4520-9a29-b56f00ed6631</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>94358608-e229-4086-976c-8fa37e388a29</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>RDELFELD</a:CreatedBy><a:CreatedOn>2016-04-06T16:40:58.447</a:CreatedOn><a:UpdatedBy>RDELFELD</a:UpdatedBy><a:UpdatedOn>2016-04-06T16:43:38.13</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:54:41', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:54:41')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '458c4906-d946-4a41-85a8-b62e2b63ed2a')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('458c4906-d946-4a41-85a8-b62e2b63ed2a', 'Donation thank you email', 'Sends out a thank you email to donors who have made a donation.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionCommunicationJobData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>ffd474b3-7054-4643-9538-4472c1a3f65d</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>CommunicationJob</a:ActionTypeName><a:CommunicationTemplateId>c866e389-3abd-45f6-9545-f1a9024b91c2</a:CommunicationTemplateId><a:Description>DonationThankYouTemplate</a:Description><a:RecipientDatasourceId>4b832544-34cd-4cc6-8b4a-f9fc1187fe07</a:RecipientDatasourceId></Action></Actions><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>4b832544-34cd-4cc6-8b4a-f9fc1187fe07</DataSourceId><DataSourceName>Donors</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/Donations received today</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Sends out a thank you email to donors who have made a donation.</Description><Evaluations/><Name>Donation thank you email</Name><Notifications><NotificationDefinition><DataSources><string>4b832544-34cd-4cc6-8b4a-f9fc1187fe07</string></DataSources><DefaultTemplate/><NotificationDefinitionId>29dcb66a-dbca-465d-a769-dc3222e0c43d</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>458c4906-d946-4a41-85a8-b62e2b63ed2a</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>458c4906-d946-4a41-85a8-b62e2b63ed2a</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">6e91c1a3-3b09-4621-809d-878084021dcf</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>1</Days><Months>0</Months><ScheduleFrequency>Daily</ScheduleFrequency><Time>2014-10-03T23:59:00</Time><Weeks>0</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2014-01-01T23:59:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2014-10-03T15:06:18.767</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2014-10-03T15:09:10.67</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 15:06:18', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141003 15:09:27')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '836d7b92-0fdb-4f6c-9319-b7c59d4525e9')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('836d7b92-0fdb-4f6c-9319-b7c59d4525e9', 'Staff new joins alert', 'Creates an alert for members who have joined today.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>b11103dd-5e5a-412b-892e-1d5a7fc21c6f</DataSourceId><DataSourceName>JoinsToday</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>dcb1d528-f94a-4263-86fe-15ab0f96c8bb</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert for members who have joined today.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>b11103dd-5e5a-412b-892e-1d5a7fc21c6f</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff new joins alert</Name><Notifications><NotificationDefinition><DataSources><string>b11103dd-5e5a-412b-892e-1d5a7fc21c6f</string></DataSources><DefaultTemplate>{foreach member in JoinsToday}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/people-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;a href="[~]/Party.aspx?ID={#member.PartyId}"&gt;{#member.FullName}&lt;/a&gt; joined today as a {#member.MemberType}&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>1942eb3d-c26f-40f0-bd35-0aae32ced917</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>836d7b92-0fdb-4f6c-9319-b7c59d4525e9</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>836d7b92-0fdb-4f6c-9319-b7c59d4525e9</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>b667b8a9-c450-4330-8d71-d4362f068a19</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:25:07.2</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:25:19.027</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:25:07', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:25:37')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '16c0db1f-c174-4f2d-a2d1-bb2b14581f9e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('16c0db1f-c174-4f2d-a2d1-bb2b14581f9e', 'Event confirmation email', 'Sends a confirmation email to event registrants when they submit their registration.', 0, 0, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionCommunicationJobData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>7a07330d-ab9f-471d-8fce-894ac564fdb5</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>CommunicationJob</a:ActionTypeName><a:CommunicationTemplateId>63300372-f980-4c79-b9ef-9d55fbaaebf1</a:CommunicationTemplateId><a:Description>Event Confirmation</a:Description><a:RecipientDatasourceId>bcdf505b-0970-45ea-b317-93bf5d5a560b</a:RecipientDatasourceId></Action><Action i:type="a:TaskDefinitionActionStoredProcedureData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>5be5ce1e-3733-4667-b5b1-33c5736e2c13</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>StoredProcedure</a:ActionTypeName><a:Description>asi_SetEventConfirmationDateTime</a:Description><a:EnableTriggerIdsAsParameters>true</a:EnableTriggerIdsAsParameters><a:StoredProcedureName>asi_SetEventConfirmationDateTime</a:StoredProcedureName></Action></Actions><DataSources><anyType i:type="DataSourceEntityData"><DataSourceId>4d515be4-78cd-41f0-9657-a7b08c3245ab</DataSourceId><DataSourceName>Table:Order_Meet</DataSourceName></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>bcdf505b-0970-45ea-b317-93bf5d5a560b</DataSourceId><DataSourceName>Registration</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>2bcfa5c0-ac9d-4629-97e7-1cd20c9a5adf</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Sends a confirmation email to event registrants when they submit their registration.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>bcdf505b-0970-45ea-b317-93bf5d5a560b</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><Name>Event confirmation email</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>40903856-7e0d-4d7e-a2ec-46b7e8053ba4</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>16c0db1f-c174-4f2d-a2d1-bb2b14581f9e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>16c0db1f-c174-4f2d-a2d1-bb2b14581f9e</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="a:TaskDefinitionTriggerDataChangedData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>true</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>4d515be4-78cd-41f0-9657-a7b08c3245ab</a:TriggerId><a:TriggerTypeName>Data</a:TriggerTypeName><a:EntityName/><a:Filters i:nil="true"/><a:FireTypes><TriggerFireTypeData>Insert</TriggerFireTypeData></a:FireTypes><a:TableName>Order_Meet</a:TableName><a:TriggerSystemEventType>None</a:TriggerSystemEventType></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-20T12:47:24.72</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2016-12-15T08:56:13.557</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150820 12:47:24', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161215 08:56:18')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '6ec57bc4-6294-4e01-ae51-bbb90ad2f70e')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('6ec57bc4-6294-4e01-ae51-bbb90ad2f70e', 'Staff lapsing members list alert', 'Creates an alert listing members whose memberships expire within 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>5e421a67-d1f1-480c-b296-e4b909e29f33</DataSourceId><DataSourceName>LapsingMembers</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>c9356a08-8b64-4e5f-bfe0-f2b536486eba</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing members whose memberships expire within 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>5e421a67-d1f1-480c-b296-e4b909e29f33</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff lapsing members list alert</Name><Notifications><NotificationDefinition><DataSources><string>5e421a67-d1f1-480c-b296-e4b909e29f33</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Lapsing members&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach member in LapsingMembers limit 10}&#xD;
    &lt;li&gt;&lt;a href="[~]/Party.aspx?ID={#member.code_PartyID}"&gt;{#member.Name}&lt;/a&gt; lapses on {#member.PaidThrough format=m} &lt;/li&gt;&#xD;
    {/foreach}&#xD;
    &lt;li&gt;&lt;a href="[website]/iCore/Staff_Dashboards/Membership/Members_lapsing_soon.aspx"&gt;&lt;strong&gt;View all&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>a7fb6a20-b986-43d8-a982-bb3d4bce708b</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>6ec57bc4-6294-4e01-ae51-bbb90ad2f70e</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>6ec57bc4-6294-4e01-ae51-bbb90ad2f70e</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>8830e6f2-a04e-4965-aa78-a9dab1b07374</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:23:35.29</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:24:17.353</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:23:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150814 09:58:28')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '7cb6e609-ba30-4cd8-9dff-de1e6f641595')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7cb6e609-ba30-4cd8-9dff-de1e6f641595', 'Staff low event registration alert', 'Creates an alert when an event starts soon and has low registration.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>05117986-aaf4-4dfd-b864-2fc57264982c</DataSourceId><DataSourceName>EventsAtRisk</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>c582058f-b2ad-45ff-98b4-7a19e1b8f12f</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert when an event starts soon and has low registration.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>05117986-aaf4-4dfd-b864-2fc57264982c</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff low event registration alert</Name><Notifications><NotificationDefinition><DataSources><string>05117986-aaf4-4dfd-b864-2fc57264982c</string></DataSources><DefaultTemplate>{foreach event in EventsAtRisk}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;a href="[~]/Event.aspx?EventKey={#event.EventCode}"&gt;{#event.EventName}&lt;/a&gt; begins soon and has low registration&lt;br /&gt;&#xD;
&lt;label&gt;Event date&lt;/label&gt;: {#event.BeginDate}&lt;br /&gt;&#xD;
&lt;label&gt;Registrants&lt;/label&gt;: {#event.Registrants}&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>f6de0bf1-7c03-42db-8c3b-1d7ab1d17dab</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>7cb6e609-ba30-4cd8-9dff-de1e6f641595</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>7cb6e609-ba30-4cd8-9dff-de1e6f641595</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>65e7f6d3-ad93-4807-b0f6-10f9df6dcf52</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:39:13.237</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:40:16.267</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:39:13', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:40:31')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'e24b81bd-da44-47d2-9007-e2b78dbac343')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e24b81bd-da44-47d2-9007-e2b78dbac343', 'Refresh Dynamic Groups - Weekly', 'Refresh all groups based on IQA queries that are scheduled to update weekly', 0, 1, 1, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions><Action i:type="a:TaskDefinitionActionRefreshDynamicGroupsData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:ActionId>936fce33-4c3f-436f-86d6-7ffee113c657</a:ActionId><a:ActionNotification i:nil="true"/><a:ActionTypeName>RefreshDynamicGroups</a:ActionTypeName><a:Description>None selected</a:Description><a:ScheduleFrequency>Weekly</a:ScheduleFrequency></Action></Actions><DataSources i:nil="true"/><Description>Refresh all groups based on IQA queries that are scheduled to update weekly</Description><Evaluations/><IsActive>true</IsActive><IsSystem>true</IsSystem><Name>Refresh Dynamic Groups - Weekly</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate/><NotificationDefinitionId>445c295d-c41d-4bd0-a457-9c0df545d0e1</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>e24b81bd-da44-47d2-9007-e2b78dbac343</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>e24b81bd-da44-47d2-9007-e2b78dbac343</TaskDefinitionId><TaskType>Scheduled</TaskType><Triggers><Trigger i:type="TaskDefinitionTriggerTimedEventData"><Description i:nil="true" xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"/><Enabled xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">true</Enabled><QuitOnMatch xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">false</QuitOnMatch><TriggerId xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">6534ffce-d5d0-4579-b29e-05e8592c279c</TriggerId><TriggerTypeName xmlns="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts">Scheduled</TriggerTypeName><Recurrence><CalendarSchedule><Days>0</Days><DaysOfWeek xmlns:a="http://schemas.datacontract.org/2004/07/System"><a:DayOfWeek>Sunday</a:DayOfWeek></DaysOfWeek><Months>0</Months><ScheduleFrequency>Weekly</ScheduleFrequency><Time>0001-01-01T01:00:00</Time><Weeks>1</Weeks></CalendarSchedule><EndDatetime i:nil="true"/><StartDatetime>2015-03-01T04:05:00</StartDatetime></Recurrence></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2015-02-24T18:12:06.7</a:CreatedOn><a:UpdatedBy>STACEY</a:UpdatedBy><a:UpdatedOn>2015-04-07T15:43:05.373</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150224 18:12:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'a39fd29d-32c1-4ce1-874b-e4c839209828')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('a39fd29d-32c1-4ce1-874b-e4c839209828', 'Staff recent large gifts alert', 'Creates an alert listing recent gifts of 500.00 or more.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>8e35ee63-b6e6-45b7-8d6c-c9fd7f01f23d</DataSourceId><DataSourceName>RecentGifts</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>a7ec7a94-68a4-4299-b241-ea8e881fd2c6</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert listing recent gifts of 500.00 or more.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>8e35ee63-b6e6-45b7-8d6c-c9fd7f01f23d</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff recent large gifts alert</Name><Notifications><NotificationDefinition><DataSources><string>8e35ee63-b6e6-45b7-8d6c-c9fd7f01f23d</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/star-color.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&#xD;
&lt;h4 class="media-heading"&gt;Recent large gifts&lt;/h4&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
&lt;div&gt;&#xD;
&lt;ul class="list-unstyled"&gt;&#xD;
    {foreach gift in RecentGifts limit 10}&#xD;
    &lt;li&gt;{#gift.Donor} gave &lt;strong&gt;{#gift.Amount}&lt;/strong&gt;&lt;/li&gt;&#xD;
    {/foreach}&#xD;
&lt;/ul&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>3f5537d4-f707-4f0e-b5f1-b59432c6a97b</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>a39fd29d-32c1-4ce1-874b-e4c839209828</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>a39fd29d-32c1-4ce1-874b-e4c839209828</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>07d73cbd-a23d-443a-ba64-a5104368d8d0</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:29:54.897</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:30:06.49</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:29:54', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:30:26')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'ef535a97-76f5-4c72-b0a1-e94681d38c99')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('ef535a97-76f5-4c72-b0a1-e94681d38c99', 'Duplicate Contact Alert', 'Alerts staff that a duplicate contact record may exist', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>0fc70c24-7569-4ca8-8783-934e1d3f3624</DataSourceId><DataSourceName>PotentialPartyDuplicates</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/ContactManagement/DefaultSystem/Queries/PotentialPartyDuplicates</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>872dfc76-5213-4c30-8ec7-34ab72c56184</DataSourceId><DataSourceName>SelectedContact</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/ContactManagement/DefaultSystem/SelectedContact</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Alerts staff that a duplicate contact record may exist</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>0fc70c24-7569-4ca8-8783-934e1d3f3624</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Duplicate Contact Alert</Name><Notifications><NotificationDefinition><DataSources/><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD; &lt;div class="media-body"&gt;&#xD; Possible duplicate contact(s) found.&lt;/div&gt;&#xD; &lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>b4b2a5b3-3b63-4ff9-bf26-51675db2bdd5</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>ef535a97-76f5-4c72-b0a1-e94681d38c99</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>ef535a97-76f5-4c72-b0a1-e94681d38c99</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>184bdd32-3a46-4431-919e-a5267fa6836a</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MANAGER</a:CreatedBy><a:CreatedOn>2015-04-01T08:15:44.44</a:CreatedOn><a:UpdatedBy>RDELFELD</a:UpdatedBy><a:UpdatedOn>2015-04-09T13:18:29.377</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150401 08:15:44', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150928 11:35:19')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '590f9357-3859-462c-8ebf-eb6b79fa2287')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('590f9357-3859-462c-8ebf-eb6b79fa2287', 'Staff volunteer background checks pending approval', 'Creates an alert with a count of volunteer background checks needing approval.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>72f78372-0b32-47c0-8580-c953458b4972</DataSourceId><DataSourceName>BackgroundCheckList</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>58c1ae64-2a33-450d-bb46-edb6934e916d</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType><anyType i:type="DataSourceQueryData"><DataSourceId>993e5cc4-2514-40ee-a32c-427f376a95d1</DataSourceId><DataSourceName>BackgroundCheckSummary</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>5a99732c-9efa-46c1-a6dc-82dc6653836d</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert with a count of volunteer background checks needing approval.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>72f78372-0b32-47c0-8580-c953458b4972</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff volunteer background checks pending approval</Name><Notifications><NotificationDefinition><DataSources><string>993e5cc4-2514-40ee-a32c-427f376a95d1</string></DataSources><DefaultTemplate>&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/caution.png" /&gt;&#xD;
&lt;div class="media-body"&gt;&lt;strong&gt;{#BackgroundCheckSummary.Count} background check(s)&lt;/strong&gt;&amp;nbsp;are pending approval.&#xD;
&lt;/div&gt;&#xD;
&lt;/div&gt;</DefaultTemplate><NotificationDefinitionId>e528c769-847d-4bc5-a96f-4ca47518add4</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>590f9357-3859-462c-8ebf-eb6b79fa2287</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>590f9357-3859-462c-8ebf-eb6b79fa2287</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>4a718346-ec9e-4cd6-a05d-7b8fbffb746d</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>ANDREA123</a:CreatedBy><a:CreatedOn>2016-02-25T14:30:06.013</a:CreatedOn><a:UpdatedBy>ANDREA123</a:UpdatedBy><a:UpdatedOn>2016-02-25T14:30:54.107</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:30:06', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:30:59')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = 'c7885c31-d6cd-4926-9a7a-f1d6043543a9')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('c7885c31-d6cd-4926-9a7a-f1d6043543a9', 'Staff online registration opens soon alert', 'Creates an alert when the online registration for an event opens within 7 days.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>e39778a8-43a5-4217-9350-dac8452552d5</DataSourceId><DataSourceName>RegOpensSoon</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryDocumentVersionKey</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>a5367630-fbe4-4bd9-b761-8b0cd7a76cc7</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert when the online registration for an event opens within 7 days.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>e39778a8-43a5-4217-9350-dac8452552d5</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Staff online registration opens soon alert</Name><Notifications><NotificationDefinition><DataSources><string>e39778a8-43a5-4217-9350-dac8452552d5</string></DataSources><DefaultTemplate>{foreach reg in RegOpensSoon}&#xD;
&lt;div class="media"&gt;&lt;img alt="" src="[~]/images/Icons/Alerts/hourglass-grey.png" /&gt;&#xD;
&lt;div class="media-body"&gt;Online registration for &lt;a href="[~]/Event.aspx?EventKey={#reg.EventCode}"&gt;{#reg.EventName}&lt;/a&gt; begins&lt;strong&gt; {#reg.Opens}&lt;/strong&gt;&lt;/div&gt;&#xD;
&lt;/div&gt;&#xD;
{/foreach}</DefaultTemplate><NotificationDefinitionId>2773dac9-7025-4dce-850c-cde22ab7ecf7</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>c7885c31-d6cd-4926-9a7a-f1d6043543a9</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>c7885c31-d6cd-4926-9a7a-f1d6043543a9</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>1f9c1cc9-dbfc-4d74-9321-60fe267561a1</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>MVERDUZCO</a:CreatedBy><a:CreatedOn>2015-08-13T09:34:50.63</a:CreatedOn><a:UpdatedBy>MVERDUZCO</a:UpdatedBy><a:UpdatedOn>2015-08-13T09:35:03.6</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:34:50', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:35:21')
END
GO

IF NOT EXISTS (SELECT 1 FROM TaskDefinition WHERE TaskDefinitionKey = '168a405d-9a9e-4b70-affe-fa3d7e409b80')
BEGIN
    INSERT INTO TaskDefinition (TaskDefinitionKey, TaskDefinitionName, TaskDefinitionDesc, TaskDefinitionPriority, TaskDefinitionIsActive, TaskDefinitionIsSystem, SerializedTaskDefinition, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('168a405d-9a9e-4b70-affe-fa3d7e409b80', 'Company Join Alert', 'Creates an alert if the selected organization is not a member, prompting them to join.', 0, 1, 0, '<TaskDefinitionData xmlns="http://schemas.imis.com/2008/01/CommunicationsDataContracts" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Actions/><DataSources><anyType i:type="DataSourceQueryData"><DataSourceId>77f57509-aa1a-41d0-967b-69b3ea410df3</DataSourceId><DataSourceName>NonMemberCompanies</DataSourceName><Query xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:Criteria><a:Criteria><a:Operation>Equal</a:Operation><a:PropertyName>QueryName</a:PropertyName><a:Values xmlns:b="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><b:string>$/Common/Tasks/Queries/NonMemberCompanies</b:string></a:Values></a:Criteria></a:Criteria><a:EntityTypeName>IQA</a:EntityTypeName></Query></anyType></DataSources><Description>Creates an alert if the selected organization is not a member, prompting them to join.</Description><Evaluations><Evaluation i:type="a:TaskDefinitionEvaluationQueryData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:DataSourceId>77f57509-aa1a-41d0-967b-69b3ea410df3</a:DataSourceId><a:EvaluationTypeName>Query</a:EvaluationTypeName></Evaluation></Evaluations><IsActive>true</IsActive><Name>Company Join Alert</Name><Notifications><NotificationDefinition><DataSources><string>77f57509-aa1a-41d0-967b-69b3ea410df3</string></DataSources><DefaultTemplate>&lt;p style="text-align: center;"&gt;&lt;a href="[~]/OrganizationJoinNow?ID={#NonMemberCompanies.ID}" class="PrimaryButton LargeButton TextButton"&gt;Join Now&lt;/a&gt;&lt;/p&gt;</DefaultTemplate><NotificationDefinitionId>17789d31-4275-421f-bf25-e56ab2fbacbd</NotificationDefinitionId><PersonalizedTemplate/><TaskDefinitionId>168a405d-9a9e-4b70-affe-fa3d7e409b80</TaskDefinitionId></NotificationDefinition></Notifications><Priority>0</Priority><TaskDefinitionId>168a405d-9a9e-4b70-affe-fa3d7e409b80</TaskDefinitionId><Triggers><Trigger i:type="a:TaskDefinitionTriggerOnDemandData" xmlns:a="http://schemas.datacontract.org/2004/07/Asi.Soa.Communications.DataContracts"><a:Description i:nil="true"/><a:Enabled>false</a:Enabled><a:QuitOnMatch>false</a:QuitOnMatch><a:TriggerId>0903f8c5-9bc7-4669-9490-7014ad64642e</a:TriggerId><a:TriggerTypeName>OnDemand</a:TriggerTypeName></Trigger></Triggers><UpdateInformation xmlns:a="http://schemas.imis.com/2008/01/SharedDataContracts"><a:CreatedBy>TARINIK</a:CreatedBy><a:CreatedOn>2015-07-07T10:31:29.737</a:CreatedOn><a:UpdatedBy>TARINIK</a:UpdatedBy><a:UpdatedOn>2015-07-07T10:33:56.267</a:UpdatedOn></UpdateInformation></TaskDefinitionData>', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150707 15:28:46', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150928 11:35:19')
END
GO

SET NOCOUNT OFF

SET NOCOUNT ON
SET TEXTSIZE 1073741824

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '7b2bdece-380b-4cf1-839d-14f4f1b41e07')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7b2bdece-380b-4cf1-839d-14f4f1b41e07', 'Automatic membership renewals', 'Used to display alerts to staff regarding enrollments in automatic membership renewal.', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160331 09:16:44', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160331 09:16:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '69e0dd96-2adc-4ac4-8fcb-20b4f06caf90')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('69e0dd96-2adc-4ac4-8fcb-20b4f06caf90', 'Volunteers Dashboard', 'Alerts that appear on the Volunteers dashboard in the Staff site', 0, 0, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:24:57', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '0cf4d85a-9925-4c3b-b86a-2936640e1031')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0cf4d85a-9925-4c3b-b86a-2936640e1031', 'Organization administrator alerts', 'Alerts that display to organization administrators on the organization''s account page', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:17:51', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:18')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '62b8f1c9-aab9-4841-917d-32f8ff532944')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('62b8f1c9-aab9-4841-917d-32f8ff532944', 'Join Alert', 'Alert used to display on Company Administrator organization account page', 1, 0, 0, '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150707 15:28:46', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150707 15:28:46')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = 'd32c2cb8-44c7-4243-8b8d-35a048ccf576')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('d32c2cb8-44c7-4243-8b8d-35a048ccf576', 'Quick Start Member alerts', 'Sample member-facing alerts for use in the Quick Start sites', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:34:58', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:50:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '4606245e-9bbf-418a-9deb-3ab9d1890912')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('4606245e-9bbf-418a-9deb-3ab9d1890912', 'Membership Dashboard', 'Alerts that appear on the Membership dashboard in the Staff site', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:12:39', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '15a241b2-a762-4d0b-a6bd-474265d0858a')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('15a241b2-a762-4d0b-a6bd-474265d0858a', 'Fundraising Dashboard', 'Alerts that appear on the Fundraising dashboard in the Staff site', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:12:23', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:39')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '9bdcb97a-74e9-44f9-8572-662bcebef006')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('9bdcb97a-74e9-44f9-8572-662bcebef006', 'Member alerts', 'Alerts that display to public users on the home page and on their account page', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:51:59', '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '678ee017-9ff0-42dc-acb9-73f03e73e830')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('678ee017-9ff0-42dc-acb9-73f03e73e830', 'Events Dashboard', 'Alerts that appear on the Events dashboard in the Staff site', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:12:06', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '5fb942a1-dbe7-4b6f-b169-83115c74c20c')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5fb942a1-dbe7-4b6f-b169-83115c74c20c', 'Waitlist for selected function', 'Displays title for the selected function''s waitlist', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:03:36', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:05:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = 'e2676137-3a90-47ef-8d4b-833307979b0f')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e2676137-3a90-47ef-8d4b-833307979b0f', 'Staff specific event alerts', 'Alerts which appear on the event showcase to staff users only.', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161213 16:48:38', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161213 16:48:45')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '0417063d-960d-44e4-8bc6-8833fc6bd701')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0417063d-960d-44e4-8bc6-8833fc6bd701', 'Moves Management Dashboard', 'Alerts that appear on the Moves Management dashboard', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:51', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:51')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '6b659541-5dde-4960-a062-912f8df9dd58')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('6b659541-5dde-4960-a062-912f8df9dd58', 'Event registration details alerts', 'Alerts which appear on the event registration details page.', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 10:20:48', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:57:08')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = 'fc0b1493-7016-4dd9-aaa3-9d930be83124')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('fc0b1493-7016-4dd9-aaa3-9d930be83124', 'AutoPay Membership Dashboard', 'Alerts that appear on the AutoPay Membership Dashboard in the Staff site', 0, 0, 0, 'b523ac5c-49c5-4dd7-94b2-b102b1fe920d', '20160823 14:34:37', 'b523ac5c-49c5-4dd7-94b2-b102b1fe920d', '20160823 14:34:51')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '973294cd-0bd2-45a0-9e22-b718b7096bd8')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('973294cd-0bd2-45a0-9e22-b718b7096bd8', 'Community Dashboard', 'Alerts that appear on the Community dashboard in the Staff site', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:11:48', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:46:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '845f59db-52b9-4448-8209-c77b8fc1fe60')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('845f59db-52b9-4448-8209-c77b8fc1fe60', 'Staff account page alerts', 'Alerts that appear on the account page which staff users see', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20140930 13:52:34', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '497e2174-fb50-430c-a8eb-d1a62a9d53be')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('497e2174-fb50-430c-a8eb-d1a62a9d53be', 'Commerce Dashboard', 'Alerts that appear on the Commerce dashboard in the Staff site', 0, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:11:33', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '9ce6c8b7-114f-49d2-85d9-e60aa8d613e6')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('9ce6c8b7-114f-49d2-85d9-e60aa8d613e6', 'Specific event dashboard', 'Alerts that appear on the specific event dashboard', 0, 0, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161115 15:15:44', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161116 10:45:39')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSet WHERE NotificationSetKey = '4efa2deb-c864-491d-8792-ea92b538a585')
BEGIN
    INSERT INTO NotificationSet (NotificationSetKey, NotificationSetName, NotificationSetDesc, NotificationSetLimitUserView, NotificationSetIsSystem, NotificationSetIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('4efa2deb-c864-491d-8792-ea92b538a585', 'Staff organization account page alerts', 'Alerts that appear on the organization account page which staff users see', 1, 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:47', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:19:55')
END
GO

SET NOCOUNT OFF

SET NOCOUNT ON
SET TEXTSIZE 1073741824

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '5e5c5099-899a-4d72-ae29-012efec961b7')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5e5c5099-899a-4d72-ae29-012efec961b7', '678ee017-9ff0-42dc-acb9-73f03e73e830', '4a039901-d1e1-47e7-8fa8-432ea99ae46f', 5, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'd66a47b2-7e3b-45d7-9aa3-07ad261f1d40')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('d66a47b2-7e3b-45d7-9aa3-07ad261f1d40', '69e0dd96-2adc-4ac4-8fcb-20b4f06caf90', '590f9357-3859-462c-8ebf-eb6b79fa2287', 2, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '0479ba8b-4717-455b-9c44-15003b0ceabb')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0479ba8b-4717-455b-9c44-15003b0ceabb', '9bdcb97a-74e9-44f9-8572-662bcebef006', '5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0', 2, 0, '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38', '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '001d7319-4eb5-4ed2-be87-220739e57101')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('001d7319-4eb5-4ed2-be87-220739e57101', '9bdcb97a-74e9-44f9-8572-662bcebef006', '81a688aa-25fb-47ee-92a7-03d006cb1c44', 0, 0, '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38', '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'de7544a8-ecfe-4271-9cc2-262fe15b2f26')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('de7544a8-ecfe-4271-9cc2-262fe15b2f26', '7b2bdece-380b-4cf1-839d-14f4f1b41e07', '066a609c-0c71-4980-bd2f-94fd726b47c3', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160331 09:16:44', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160331 09:16:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'e8286d48-e8a3-44a9-9f84-2a0f07dc9fdc')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('e8286d48-e8a3-44a9-9f84-2a0f07dc9fdc', '973294cd-0bd2-45a0-9e22-b718b7096bd8', '21aec3c8-dbb7-4572-bb83-7c1458d3f38f', 1, 0, '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160323 15:25:41', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160323 15:25:41')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '7f96087d-67ee-4be7-ab9c-2a12d325d796')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7f96087d-67ee-4be7-ab9c-2a12d325d796', '4efa2deb-c864-491d-8792-ea92b538a585', 'e6bb9114-8528-48a2-94fd-579bef13fa0b', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:19:55', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:19:55')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '46240c54-7ec6-4044-9d54-32d72bc29c72')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('46240c54-7ec6-4044-9d54-32d72bc29c72', '69e0dd96-2adc-4ac4-8fcb-20b4f06caf90', '9e901a4b-d65d-4c9d-a255-41842f46d485', 1, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '06c7ac39-838d-497d-939a-339b3661fd2e')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('06c7ac39-838d-497d-939a-339b3661fd2e', '15a241b2-a762-4d0b-a6bd-474265d0858a', '49f51017-953c-4f12-a107-5dd9943582d2', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:39', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:39')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '7d76278a-635c-4337-be02-359c41c78188')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7d76278a-635c-4337-be02-359c41c78188', '678ee017-9ff0-42dc-acb9-73f03e73e830', 'c7885c31-d6cd-4926-9a7a-f1d6043543a9', 3, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'ac6a8577-7833-4756-af90-37779ed393b4')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('ac6a8577-7833-4756-af90-37779ed393b4', '845f59db-52b9-4448-8209-c77b8fc1fe60', 'b79eb66d-c7c8-436f-9ba0-21c92de748a0', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'a136c6f9-711d-4821-b527-3a802b48e2d2')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('a136c6f9-711d-4821-b527-3a802b48e2d2', '678ee017-9ff0-42dc-acb9-73f03e73e830', '7cb6e609-ba30-4cd8-9dff-de1e6f641595', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '4cc159b9-9b44-4ce6-a60b-3cc108007213')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('4cc159b9-9b44-4ce6-a60b-3cc108007213', 'e2676137-3a90-47ef-8d4b-833307979b0f', 'cd9a0bde-5875-467e-bb44-91176704fa0d', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161213 16:48:45', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161213 16:48:45')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '88ae2604-a76a-4e41-a1dc-43b7c3a55fa6')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('88ae2604-a76a-4e41-a1dc-43b7c3a55fa6', '497e2174-fb50-430c-a8eb-d1a62a9d53be', '90976f5d-7269-4f7c-ba38-73a7842fe3b4', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '7984ceba-fc80-4cc4-9624-49759dfe4bd4')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7984ceba-fc80-4cc4-9624-49759dfe4bd4', '6b659541-5dde-4960-a062-912f8df9dd58', '83872346-2c10-4667-8a4e-5d93117bdddd', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:57:08', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:57:08')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '5c254795-2a72-40f0-ab3b-4cf06fbe07b3')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5c254795-2a72-40f0-ab3b-4cf06fbe07b3', '5fb942a1-dbe7-4b6f-b169-83115c74c20c', '5c244217-650e-495f-a99f-3f1a33bbd7f5', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:05:12', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161214 15:05:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'c6295cf9-43f9-424a-864b-54d365fb61b1')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('c6295cf9-43f9-424a-864b-54d365fb61b1', '69e0dd96-2adc-4ac4-8fcb-20b4f06caf90', '3f908ec7-14fd-4e39-b489-2417f1bf10de', 3, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '5456d17a-d6d0-406e-9be5-569825e6aa50')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5456d17a-d6d0-406e-9be5-569825e6aa50', '0cf4d85a-9925-4c3b-b86a-2936640e1031', 'e6bb9114-8528-48a2-94fd-579bef13fa0b', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:18', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:18')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '6c6ec5aa-4f69-4c84-8866-5b4fa2da83c8')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('6c6ec5aa-4f69-4c84-8866-5b4fa2da83c8', 'fc0b1493-7016-4dd9-aaa3-9d930be83124', '066a609c-0c71-4980-bd2f-94fd726b47c3', 0, 0, 'b523ac5c-49c5-4dd7-94b2-b102b1fe920d', '20160823 14:34:51', 'b523ac5c-49c5-4dd7-94b2-b102b1fe920d', '20160823 14:34:51')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '5468e1a2-87e1-4a8d-a022-62b6ab191473')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5468e1a2-87e1-4a8d-a022-62b6ab191473', '497e2174-fb50-430c-a8eb-d1a62a9d53be', '51a9559c-a438-4598-b722-100b7c5f0d7e', 2, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'efdc5d30-de39-4395-910d-70a649025c91')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('efdc5d30-de39-4395-910d-70a649025c91', '62b8f1c9-aab9-4841-917d-32f8ff532944', '168a405d-9a9e-4b70-affe-fa3d7e409b80', 0, 0, '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150707 15:28:46', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20150707 15:28:46')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '226a54a0-c364-4c5f-aae3-7839be221249')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('226a54a0-c364-4c5f-aae3-7839be221249', '845f59db-52b9-4448-8209-c77b8fc1fe60', 'e6bb9114-8528-48a2-94fd-579bef13fa0b', 2, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '26c13afc-dfb2-47e9-bc9c-7ab10c8a158a')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('26c13afc-dfb2-47e9-bc9c-7ab10c8a158a', '973294cd-0bd2-45a0-9e22-b718b7096bd8', '27f50f61-e6d7-4461-afc7-643dbf17ab4a', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:46:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:46:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '0f8bc33b-540b-4529-9093-7b61ea994605')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0f8bc33b-540b-4529-9093-7b61ea994605', '9bdcb97a-74e9-44f9-8572-662bcebef006', 'e6bb9114-8528-48a2-94fd-579bef13fa0b', 1, 0, '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38', '879762ba-889b-432b-ae8b-3dac1a11af55', '20150819 16:03:38')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '821a793e-6803-4086-8ed8-7fc1c74cb566')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('821a793e-6803-4086-8ed8-7fc1c74cb566', '845f59db-52b9-4448-8209-c77b8fc1fe60', '81a688aa-25fb-47ee-92a7-03d006cb1c44', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '9afbad1f-302e-4c1b-a02d-8698988257c6')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('9afbad1f-302e-4c1b-a02d-8698988257c6', '845f59db-52b9-4448-8209-c77b8fc1fe60', '20c696eb-b684-43c4-98af-aef826e0da4b', 4, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '069fdcb2-6ced-4ba3-af0a-89cd9a799343')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('069fdcb2-6ced-4ba3-af0a-89cd9a799343', '4606245e-9bbf-418a-9deb-3ab9d1890912', 'aaa4511b-caa4-4e33-b0ff-6f1c5ca02806', 3, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '00dc1f61-72bc-40dc-9430-8e320400311b')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('00dc1f61-72bc-40dc-9430-8e320400311b', '973294cd-0bd2-45a0-9e22-b718b7096bd8', 'fed57640-c26c-4402-8d74-47679c513337', 2, 0, '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:55:58', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:55:58')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '4fb5cbbc-efbd-4383-b4f0-8eae298cb352')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('4fb5cbbc-efbd-4383-b4f0-8eae298cb352', '845f59db-52b9-4448-8209-c77b8fc1fe60', '5c0dcd19-cd4c-44bd-99ba-0b87eb1eabb0', 5, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '25e3d687-c25c-4955-acf8-92044c739111')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('25e3d687-c25c-4955-acf8-92044c739111', 'd32c2cb8-44c7-4243-8b8d-35a048ccf576', 'd577be59-2531-4947-b2cd-671de991a38b', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:50:44', '327cca4c-f450-49a9-bc5f-5f9228037177', '20141002 12:50:44')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'ed93b07f-5b8b-47e2-9532-92b4ab351ccc')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('ed93b07f-5b8b-47e2-9532-92b4ab351ccc', '0cf4d85a-9925-4c3b-b86a-2936640e1031', '81a688aa-25fb-47ee-92a7-03d006cb1c44', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:18', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:18:18')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '08e74645-b1f0-4e96-8acb-9e5ad6a89ee9')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('08e74645-b1f0-4e96-8acb-9e5ad6a89ee9', '9ce6c8b7-114f-49d2-85d9-e60aa8d613e6', '31c19af7-0eac-475d-848e-1575e3835838', 0, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161116 10:45:39', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20161116 10:45:39')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '490511ba-aeb1-4a31-a0a0-a1fdbec6352c')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('490511ba-aeb1-4a31-a0a0-a1fdbec6352c', '4606245e-9bbf-418a-9deb-3ab9d1890912', '836d7b92-0fdb-4f6c-9319-b7c59d4525e9', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '06509790-5be7-47fe-9b88-a3e49c9baf30')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('06509790-5be7-47fe-9b88-a3e49c9baf30', '845f59db-52b9-4448-8209-c77b8fc1fe60', 'ef535a97-76f5-4c72-b0a1-e94681d38c99', 6, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '3909f690-0142-48c1-a84f-aec0e8ad6449')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('3909f690-0142-48c1-a84f-aec0e8ad6449', '678ee017-9ff0-42dc-acb9-73f03e73e830', '5fb57e67-9ecb-44ed-a759-b13edfbd285e', 6, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '599e7004-0e4f-4e8a-a2a5-b96b6220f6bd')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('599e7004-0e4f-4e8a-a2a5-b96b6220f6bd', '678ee017-9ff0-42dc-acb9-73f03e73e830', '8d312ffe-5661-4a5e-8d85-b2f33c450863', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '47e5cb9c-d9d4-4b80-9ac9-c5e293f254ad')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('47e5cb9c-d9d4-4b80-9ac9-c5e293f254ad', '678ee017-9ff0-42dc-acb9-73f03e73e830', '7b49886f-814c-45e8-ab19-233dd02dfa69', 4, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '0de84d40-c1f4-485a-a5db-d8fcbbc1b89c')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0de84d40-c1f4-485a-a5db-d8fcbbc1b89c', '15a241b2-a762-4d0b-a6bd-474265d0858a', 'a39fd29d-32c1-4ce1-874b-e4c839209828', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:39', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:39')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '839cdcf0-e99a-441f-ac7b-deb4c9826664')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('839cdcf0-e99a-441f-ac7b-deb4c9826664', '69e0dd96-2adc-4ac4-8fcb-20b4f06caf90', '3eaf129b-500e-4e5a-a494-8f3ff37962a9', 0, 0, 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12', 'c6a5b257-7284-4bf1-9773-3a1e5b63829e', '20160225 14:34:12')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '25618e0d-27f5-4fd2-8453-dfbcceb147f4')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('25618e0d-27f5-4fd2-8453-dfbcceb147f4', '678ee017-9ff0-42dc-acb9-73f03e73e830', 'ffcaf8ec-8d4a-4fbf-9540-a9fe380a86fe', 2, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:47:35')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '7ddae1f5-439d-4a2f-90ef-e24a84de928a')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('7ddae1f5-439d-4a2f-90ef-e24a84de928a', '4efa2deb-c864-491d-8792-ea92b538a585', '81a688aa-25fb-47ee-92a7-03d006cb1c44', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:19:55', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150716 14:19:55')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = 'bf75b6fe-4ef5-4788-9380-ec1904563cee')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('bf75b6fe-4ef5-4788-9380-ec1904563cee', '4606245e-9bbf-418a-9deb-3ab9d1890912', '3ede8482-e141-4ae8-8689-474cc15d1425', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '0c67bbf7-a61a-4798-a535-eecfa5ebc608')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('0c67bbf7-a61a-4798-a535-eecfa5ebc608', '4606245e-9bbf-418a-9deb-3ab9d1890912', 'da3b20f6-0f3e-4816-affc-55e3e8d77904', 2, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150813 09:48:05')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '2365cd04-68e8-454f-b39f-f12d7d0d8c8f')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('2365cd04-68e8-454f-b39f-f12d7d0d8c8f', '973294cd-0bd2-45a0-9e22-b718b7096bd8', '320e8f8f-5b6e-4520-9a29-b56f00ed6631', 3, 0, '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:55:59', '7540a41c-977c-4f3a-8621-f1bc9cd3bbd6', '20160408 08:55:59')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '9b85f957-811a-4248-b272-f5dc26b7a895')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('9b85f957-811a-4248-b272-f5dc26b7a895', '845f59db-52b9-4448-8209-c77b8fc1fe60', 'aff2b818-cc19-44ed-a921-b40b9bb7f9ac', 3, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160829 11:18:56')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '5adabc0f-a867-48ef-9780-f5e003642155')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('5adabc0f-a867-48ef-9780-f5e003642155', '497e2174-fb50-430c-a8eb-d1a62a9d53be', 'bf83275a-2965-4d7a-ac92-9335bb2519a1', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06', '327cca4c-f450-49a9-bc5f-5f9228037177', '20150817 09:22:06')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '8e3a2ab0-b7ca-461a-812c-f85c3bac0302')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('8e3a2ab0-b7ca-461a-812c-f85c3bac0302', '0417063d-960d-44e4-8bc6-8833fc6bd701', 'e7561f7e-3635-414b-8bdd-386ea876b4c3', 0, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:51', '327cca4c-f450-49a9-bc5f-5f9228037177', '20160803 08:40:51')
END
GO

IF NOT EXISTS (SELECT 1 FROM NotificationSetDetail WHERE NotificationSetDetailKey = '53b988d1-27a7-4e33-bd83-fb23a0baa49a')
BEGIN
    INSERT INTO NotificationSetDetail (NotificationSetDetailKey, NotificationSetKey, TaskDefinitionKey, NotificationSetDetailPriority, NotificationSetDetailIsDefault, CreatedByUserKey, CreatedOn, UpdatedByUserKey, UpdatedOn)
    VALUES ('53b988d1-27a7-4e33-bd83-fb23a0baa49a', '6b659541-5dde-4960-a062-912f8df9dd58', '8e37307d-e177-4722-8c5b-4dbd92d80ded', 1, 0, '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:57:08', '327cca4c-f450-49a9-bc5f-5f9228037177', '20161208 15:57:08')
END
GO

SET NOCOUNT OFF


DECLARE @managerKey uniqueidentifier;
SELECT @managerKey = [UserKey] FROM [dbo].[UserMain] WHERE [UserId] = 'MANAGER' 
UPDATE t1 SET CreatedByUserKey = @managerKey FROM [dbo].[TaskDefinition] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[CreatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL
UPDATE t1 SET UpdatedByUserKey = @managerKey FROM [dbo].[TaskDefinition] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[UpdatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL
UPDATE t1 SET CreatedByUserKey = @managerKey FROM [dbo].[NotificationSet] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[CreatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL
UPDATE t1 SET UpdatedByUserKey = @managerKey FROM [dbo].[NotificationSet] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[UpdatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL
UPDATE t1 SET CreatedByUserKey = @managerKey FROM [dbo].[NotificationSetDetail] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[CreatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL
UPDATE t1 SET UpdatedByUserKey = @managerKey FROM [dbo].[NotificationSetDetail] t1 LEFT OUTER JOIN [UserMain] t2 ON t1.[UpdatedByUserKey] = t2.[UserKey] WHERE t2.[UserKey] IS NULL

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'TaskDefinition' AND [CONSTRAINT_NAME] = 'FK_TaskDefinition_UserMain_CreatedBy')
    ALTER TABLE [dbo].[TaskDefinition] WITH CHECK ADD CONSTRAINT [FK_TaskDefinition_UserMain_CreatedBy]
    FOREIGN KEY (CreatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[TaskDefinition] CHECK CONSTRAINT [FK_TaskDefinition_UserMain_CreatedBy]
go

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'TaskDefinition' AND [CONSTRAINT_NAME] = 'FK_TaskDefinition_UserMain_UpdatedBy')
    ALTER TABLE [dbo].[TaskDefinition] WITH CHECK ADD CONSTRAINT [FK_TaskDefinition_UserMain_UpdatedBy]
    FOREIGN KEY (UpdatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[TaskDefinition] CHECK CONSTRAINT [FK_TaskDefinition_UserMain_UpdatedBy]
go


IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSet' AND [CONSTRAINT_NAME] = 'FK_NotificationSet_CreatedByUser')
    ALTER TABLE [dbo].[NotificationSet] WITH CHECK ADD CONSTRAINT [FK_NotificationSet_CreatedByUser]
    FOREIGN KEY (CreatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[NotificationSet] CHECK CONSTRAINT [FK_NotificationSet_CreatedByUser]
go

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSet' AND [CONSTRAINT_NAME] = 'FK_NotificationSet_UpdatedByUser')
    ALTER TABLE [dbo].[NotificationSet] WITH CHECK ADD CONSTRAINT [FK_NotificationSet_UpdatedByUser]
    FOREIGN KEY (UpdatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[NotificationSet] CHECK CONSTRAINT [FK_NotificationSet_UpdatedByUser]
go


IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_CreatedByUser')
    ALTER TABLE [dbo].[NotificationSetDetail] WITH CHECK ADD CONSTRAINT [FK_NotificationSetDetail_CreatedByUser]
    FOREIGN KEY (CreatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[NotificationSetDetail] CHECK CONSTRAINT [FK_NotificationSetDetail_CreatedByUser]
go

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_NotificationSet')
    ALTER TABLE [dbo].[NotificationSetDetail] WITH CHECK ADD CONSTRAINT [FK_NotificationSetDetail_NotificationSet]
    FOREIGN KEY (NotificationSetKey) REFERENCES [NotificationSet] (NotificationSetKey)
go
ALTER TABLE [dbo].[NotificationSetDetail] CHECK CONSTRAINT [FK_NotificationSetDetail_NotificationSet]
go

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_TaskDefinition')
    ALTER TABLE [dbo].[NotificationSetDetail] WITH CHECK ADD CONSTRAINT [FK_NotificationSetDetail_TaskDefinition]
    FOREIGN KEY (TaskDefinitionKey) REFERENCES [TaskDefinition] (TaskDefinitionKey)
go
ALTER TABLE [dbo].[NotificationSetDetail] CHECK CONSTRAINT [FK_NotificationSetDetail_TaskDefinition]
go

IF NOT EXISTS (SELECT 1 FROM INFORMATION_SCHEMA.CONSTRAINT_TABLE_USAGE WHERE [TABLE_NAME] = 'NotificationSetDetail' AND [CONSTRAINT_NAME] = 'FK_NotificationSetDetail_UpdatedByUser')
    ALTER TABLE [dbo].[NotificationSetDetail] WITH CHECK ADD CONSTRAINT [FK_NotificationSetDetail_UpdatedByUser]
    FOREIGN KEY (UpdatedByUserKey) REFERENCES [UserMain] (UserKey)
go
ALTER TABLE [dbo].[NotificationSetDetail] CHECK CONSTRAINT [FK_NotificationSetDetail_UpdatedByUser]
go


